import{d as v,_ as h,r as a,o as t,c as s,a as o,b,t as n,e as i,p as C,f as w,I as T,N as E,w as V,v as I,g as c,O as R,h as q,u as y,n as N,F as r,i as f,j as k,k as L,A as P}from"./index.dd73c7ec.js";import{A}from"./AppCheckbox.e2366f9d.js";const j=v({name:"SubsectionOption",components:{AppCheckbox:A},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const B=e=>(C("data-v-699d5bc1"),e=e(),w(),e),U={class:"v-subsection-option app-subsection"},D={class:"app-g"},z=B(()=>o("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-6-12"},null,-1)),G={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},X={key:0,class:"v-subsection-option__info-value"};function J(e,l,_,d,p,$){const u=a("app-checkbox");return t(),s("div",U,[o("div",D,[z,o("div",G,[b(u,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(t(),s("div",X,"CHF "+n(e.numberValue)+".\u2014",1)):i("",!0)])])])}const H=h(j,[["render",J],["__scopeId","data-v-699d5bc1"]]),K=v({name:"AppNumberValue",components:{IconPen:T},props:{numberSubsection:{type:Object,default:new E}}});const Q={class:"v-app-number-value"},W={class:"v-app-number-value__icon"},Y={key:0,class:"v-app-number-value__device"},Z=["min"],x={key:1,class:"v-app-number-value__end"},ee={key:2,class:"v-app-number-value__device"};function te(e,l,_,d,p,$){const u=a("icon-pen");return t(),s("div",Q,[o("div",W,[b(u)]),e.numberSubsection.unit==="CHF"?(t(),s("div",Y,"CHF")):i("",!0),V(o("input",{class:"app-value-number",type:"number","onUpdate:modelValue":l[0]||(l[0]=m=>e.numberSubsection.value=m),min:e.numberSubsection.min},null,8,Z),[[I,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(t(),s("div",x,".\u2014")):e.numberSubsection.unit?(t(),s("div",ee,n(e.numberSubsection.unit),1)):i("",!0)])}const F=h(K,[["render",te],["__scopeId","data-v-a629be42"]]),se=v({name:"SubsectionNumber",components:{IconPen:T,AppNumberValue:F},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const S=e=>(C("data-v-18c8c19e"),e=e(),w(),e),oe={class:"v-subsection-number app-subsection"},ie={key:0,class:"app-g app-g--align-start"},ne=S(()=>o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),le={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},ae={key:0,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},pe={key:0},ue={key:1},ce={key:1,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 v-subsection-number__multiplier-editable"},re={key:0},_e={key:1},de={key:2},me={class:"app-g app-g--align-center"},be=S(()=>o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),ve={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},he={key:0},ge={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},Se={key:1,class:"app-g v-subsection-number__multiplier--is-info"},$e=S(()=>o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),ye=S(()=>o("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},null,-1)),fe={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},ke={key:0},Ce={key:1},we={key:2};function Oe(e,l,_,d,p,$){const u=a("icon-pen"),m=a("app-number-value");return t(),s("div",oe,[e.multiplier&&e.multiplier.status==="reg"?(t(),s("div",ie,[ne,o("div",le,n(e.multiplier.text),1),e.multiplier.isEditable?(t(),s("div",ce,[o("div",null,[b(u)]),e.multiplier.unit==="CHF"?(t(),s("div",re,"CHF")):i("",!0),V(o("input",{class:"app-value-number","onUpdate:modelValue":l[0]||(l[0]=g=>e.multiplier.value=g),type:"number",min:"0"},null,512),[[I,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(t(),s("div",_e,".\u2014")):e.multiplier.unit?(t(),s("div",de,n(e.numberSubsection.unit),1)):i("",!0)])):(t(),s("div",ae,[e.multiplier.unit==="CHF"?(t(),s("span",pe,"CHF")):i("",!0),c(" "+n(e.multiplier.value)+" ",1),e.multiplier.unit==="CHF"?(t(),s("span",ue,".\u2014")):i("",!0)]))])):i("",!0),o("div",me,[be,o("div",ve,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(t(),s("span",he,"\u21B3 ")):i("",!0),c(n(e.numberSubsection.text),1)]),o("div",ge,[b(m,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(t(),s("div",Se,[$e,ye,o("div",fe,[c(n(e.multiplier.text),1),e.multiplier.unit==="CHF"?(t(),s("span",ke,"CHF")):i("",!0),c(" "+n(e.multiplier.value),1),e.multiplier.unit==="CHF"?(t(),s("span",Ce,".\u2013")):e.multiplier.unit?(t(),s("span",we,"\xA0"+n(e.multiplier.unit),1)):i("",!0)])])):i("",!0)])}const M=h(se,[["render",Oe],["__scopeId","data-v-18c8c19e"]]),Te=v({name:"AppSection",components:{SubsectionNumber:M,SubsectionOption:H},props:{section:{required:!0,type:Object}},computed:{OptionCalculatorSection(){return R},OptionCalculatorSubsection(){return q},showHelpers(){return y().showHelpers},sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const Ve={class:"v-app-section"},Ie={class:"v-app-section__required-info"},Ne={key:0,class:"v-app-section__required-info__true"},Ae={key:1,class:"v-app-section__required-info__false"},He={class:"app-g app-g--align-center"},Fe={class:"app-g__coll-sm-auto app-g__coll-2-12"},Me={class:"app-g__coll-8-12 app-with-gutter"},Ee={class:"app-g"},Re={class:"app-g__coll-12-12"},qe={class:"app-g"},Le=o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12"},null,-1),Pe=["innerHTML"];function je(e,l){const _=a("subsection-number"),d=a("subsection-option");return t(),s("div",Ve,[o("div",Ie,[e.classifiedSection.value.required?(t(),s("span",Ne,"*")):(t(),s("span",Ae,"Optionnel"))]),o("div",He,[o("div",Fe,[o("div",{class:N([{"is-empty":e.classifiedSection.value.status==="empty"},"v-app-section__index"])},n(e.classifiedSection.value.index),3)]),o("div",Me,[o("div",null,n(e.classifiedSection.value.title),1)])]),o("div",Ee,[o("div",Re,[e.sectionIsNumber?(t(!0),s(r,{key:0},f(e.sectionIsNumber.subSections,p=>(t(),k(_,{numberSubsection:p},null,8,["numberSubsection"]))),256)):i("",!0),e.sectionIsOption?(t(!0),s(r,{key:1},f(e.sectionIsOption.subSections,p=>(t(),k(d,{optionSubsection:p},null,8,["optionSubsection"]))),256)):i("",!0)])]),o("div",qe,[Le,e.section.help?(t(),s(r,{key:0},[e.showHelpers?(t(),s("div",{key:0,class:"app-g__coll-sm-12-12 app-g__coll-10-12 v-app-section__help",innerHTML:e.section.help},null,8,Pe)):i("",!0)],64)):i("",!0)])])}const Be=h(Te,[["render",je]]),Ue=v({name:"ViewCalculator",components:{AppPanel:L,SubsectionNumber:M,SubsectionOption:H,AppNumberValue:F,AppSection:Be,AppCheckbox:A,AppNav:P},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)}),gtag("event","page_view",{page_title:"ViewCalculator",page_location:"/#/calculateur"})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:y(),proto:!0,checkeds:[]}},methods:{useGlobalStore:y,getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.globalStore.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{sections(){return this.globalStore.calculatorSections},globalTotal(){return this.globalStore.globalTotal},globalMessage(){return this.globalStore.globalMessageForTotalResult},conditionOnTotalValue(){return Object.values(this.globalStore.conditionOnTotalValue)[0].value}}});const O=e=>(C("data-v-9ea8cc2d"),e=e(),w(),e),De={class:"v-view-calculator app-view"},ze={class:"v-view-calculator__nav-box"},Ge=O(()=>o("h2",{class:"app-with-gutter"},"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),Xe={class:"v-view-calculator__result"},Je={class:"app-g",ref:"total"},Ke=O(()=>o("div",{class:"app-g__coll-2-12 app-g__coll-sm-0-12 app-with-gutter"},null,-1)),Qe=O(()=>o("div",{class:"app-g__coll-2-12 app-g__coll-sm-3-12 app-with-gutter"},"TOTAL",-1)),We={class:"v-view-calculator__result__result-container app-g__coll-8-12 app-g__coll-sm-9-12 app-with-gutter"},Ye={key:0},Ze={key:0},xe={key:1},et={class:"v-view-calculator__result__option"},tt={key:2,class:"v-view-calculator__result__option_info",style:{"text-align":"right","max-width":"none"}},st={key:1,style:{margin:"0"}};function ot(e,l,_,d,p,$){const u=a("app-nav"),m=a("app-section");return t(),s("div",De,[o("div",ze,[b(u)]),Ge,(t(!0),s(r,null,f(e.sections,g=>(t(),k(m,{section:g},null,8,["section"]))),256)),o("div",Xe,[o("div",Je,[Ke,Qe,o("div",We,[typeof e.globalTotal=="number"?(t(),s("div",Ye,[c("CHF "+n(e.globalTotal),1),e.globalTotal%1===0?(t(),s(r,{key:0},[c(".\u2014")],64)):i("",!0),o("div",null,n(e.globalMessage),1),e.conditionOnTotalValue?(t(),s(r,{key:1},[e.conditionOnTotalValue==="association"?(t(),s("div",Ze,"soit "+n(e.globalTotal/100*72.41)+" net",1)):i("",!0),e.conditionOnTotalValue==="salariat"?(t(),s("div",xe,"soit "+n(e.globalTotal/100*85.44)+" net",1)):i("",!0)],64)):i("",!0),o("div",et,[o("div",{class:N(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:l[0]||(l[0]=g=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2),c(" Collectif d\u2019artiste? ")]),e.globalStore.isACollective?(t(),s("div",tt," Les collectifs d\u2019artistes sont r\xE9mun\xE9r\xE9s selon un coefficient de 1,5. ")):i("",!0)])):(t(),s("h6",st,n(e.globalTotal.errorMessage),1))])],512)])])}const lt=h(Ue,[["render",ot],["__scopeId","data-v-9ea8cc2d"]]);export{lt as default};
