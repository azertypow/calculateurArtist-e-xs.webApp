import{I,A as E}from"./AppNav.b12aeb8a.js";import{A as N,N as q,u as M}from"./globalStore.4abfd8e8.js";import{d,_ as v,r as c,o as s,c as o,e as t,a as _,t as i,f as n,p as w,b as C,g as V,v as F,h as r,F as S,i as g,j as k,n as A}from"./index.13d49d72.js";const B=d({name:"SubsectionOption",components:{AppCheckbox:N},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const P=e=>(w("data-v-882d9a56"),e=e(),C(),e),U={class:"v-subsection-option app-subsection"},j={class:"app-g"},D=P(()=>t("div",{class:"app-g__coll-6-12"},null,-1)),L={class:"app-g__coll-6-12"},z={key:0,class:"v-subsection-option__info-value"};function G(e,l,m,b,h,$){const a=c("app-checkbox");return s(),o("div",U,[t("div",j,[D,t("div",L,[_(a,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(s(),o("div",z,"(\xA0"+i(e.numberValue)+"/heure\xA0)",1)):n("",!0)])])])}const O=v(B,[["render",G],["__scopeId","data-v-882d9a56"]]),X=d({name:"AppNumberValue",components:{IconPen:I},props:{numberSubsection:{type:Object,default:new q}}});const J={class:"v-app-number-value"},K={class:"v-app-number-value__icon"},Q={key:0,class:"v-app-number-value__device"},W=["min"],Y={key:1,class:"v-app-number-value__end"},Z={key:2,class:"v-app-number-value__device"};function x(e,l,m,b,h,$){const a=c("icon-pen");return s(),o("div",J,[t("div",K,[_(a)]),e.numberSubsection.unit==="CHF"?(s(),o("div",Q,"CHF")):n("",!0),V(t("input",{class:"app-value-number",type:"number","onUpdate:modelValue":l[0]||(l[0]=p=>e.numberSubsection.value=p),min:e.numberSubsection.min},null,8,W),[[F,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(s(),o("div",Y,".\u2014")):e.numberSubsection.unit?(s(),o("div",Z,i(e.numberSubsection.unit),1)):n("",!0)])}const H=v(X,[["render",x],["__scopeId","data-v-4f9a79eb"]]),ee=d({name:"SubsectionNumber",components:{IconPen:I,AppNumberValue:H},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const f=e=>(w("data-v-63acfd6e"),e=e(),C(),e),te={class:"v-subsection-number app-subsection"},se={key:0,class:"app-g"},oe=f(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),ie={class:"app-g__coll-4-12 app-with-gutter"},ne={key:0,class:"app-g__coll-6-12 app-with-gutter"},ue={key:1,class:"v-subsection-number__multiplier-editable"},le={key:0},ae={key:1},ce={key:2},pe={class:"app-g app-g--align-end"},re=f(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),_e={class:"app-g__coll-4-12 app-with-gutter"},de={key:0},ve={class:"app-g__coll-6-12"},me={key:1,class:"app-g v-subsection-number__multiplier--is-info"},be=f(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),he=f(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},null,-1)),$e={class:"app-g__coll-6-12 app-with-gutter"},Se={key:0},ge={key:1},fe={key:2};function ye(e,l,m,b,h,$){const a=c("icon-pen"),p=c("app-number-value");return s(),o("div",te,[e.multiplier&&e.multiplier.status==="reg"?(s(),o("div",se,[oe,t("div",ie,i(e.multiplier.text),1),e.multiplier.isEditable?(s(),o("div",ue,[t("div",null,[_(a)]),e.multiplier.unit==="CHF"?(s(),o("div",le,"CHF")):n("",!0),V(t("input",{class:"app-g__coll-6-12 app-with-gutter app-value-number","onUpdate:modelValue":l[0]||(l[0]=u=>e.multiplier.value=u),type:"number",min:"0"},null,512),[[F,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(s(),o("div",ae,".\u2014")):e.multiplier.unit?(s(),o("div",ce,i(e.numberSubsection.unit),1)):n("",!0)])):(s(),o("div",ne,i(e.multiplier.value),1))])):n("",!0),t("div",pe,[re,t("div",_e,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(s(),o("span",de,"\u21B3 ")):n("",!0),r(i(e.numberSubsection.text),1)]),t("div",ve,[_(p,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(s(),o("div",me,[be,he,t("div",$e,[r(i(e.multiplier.text),1),e.multiplier.unit==="CHF"?(s(),o("span",Se,"CHF")):n("",!0),r(" "+i(e.multiplier.value),1),e.multiplier.unit==="CHF"?(s(),o("span",ge,".\u2013")):e.multiplier.unit?(s(),o("span",fe,"\xA0"+i(e.multiplier.unit),1)):n("",!0)])])):n("",!0)])}const T=v(ee,[["render",ye],["__scopeId","data-v-63acfd6e"]]),ke=d({name:"AppSection",components:{SubsectionNumber:T,SubsectionOption:O},props:{section:{required:!0,type:Object}},computed:{sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const we={class:"v-app-section"},Ce={class:"v-app-section__required-info"},Ae={key:0,class:"v-app-section__required-info__true"},Ie={key:1,class:"v-app-section__required-info__false"},Ne={class:"app-g app-g--align-center"},Ve={class:"app-g__coll-2-12"},Fe={class:"v-app-section__index"},Oe={class:"app-g__coll-8-12"},He={class:"app-g"},Te={class:"app-g__coll-12-12"};function Re(e,l,m,b,h,$){const a=c("subsection-number"),p=c("subsection-option");return s(),o("div",we,[t("div",Ce,[e.classifiedSection.value.required?(s(),o("span",Ae,"*")):(s(),o("span",Ie,"Facultatif"))]),t("div",Ne,[t("div",Ve,[t("div",Fe,i(e.classifiedSection.value.index),1)]),t("div",Oe,[t("div",null,i(e.classifiedSection.value.title),1)])]),t("div",He,[t("div",Te,[e.sectionIsNumber?(s(!0),o(S,{key:0},g(e.sectionIsNumber.subSections,u=>(s(),k(a,{numberSubsection:u},null,8,["numberSubsection"]))),256)):n("",!0),e.sectionIsOption?(s(!0),o(S,{key:1},g(e.sectionIsOption.subSections,u=>(s(),k(p,{optionSubsection:u},null,8,["optionSubsection"]))),256)):n("",!0)])])])}const Ee=v(ke,[["render",Re]]),qe=d({name:"ViewCalculator",components:{SubsectionNumber:T,SubsectionOption:O,AppNumberValue:H,AppSection:Ee,AppCheckbox:N,AppNav:E},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:M(),proto:!0,checkeds:[],showFixedResult:!0}},methods:{getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{sections(){return this.globalStore.calculatorSections},total(){return this.globalStore.total}}});const y=e=>(w("data-v-d776e07c"),e=e(),C(),e),Me={class:"v-view-calculator"},Be=y(()=>t("h2",null,"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),Pe={class:"v-view-calculator__footer"},Ue={key:0,class:"v-view-calculator__footer__result"},je={class:"v-view-calculator__footer__content"},De={class:"v-view-calculator__footer__status"},Le={key:0,class:"v-view-calculator__footer__status__separator"},ze=y(()=>t("span",{class:"v-view-calculator__footer__status__items__icon"},null,-1)),Ge={class:"v-view-calculator__result"},Xe={class:"app-g",ref:"total"},Je=y(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),Ke=y(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},"TOTAL",-1)),Qe={class:"v-view-calculator__result__result-container app-g__coll-6-12 app-with-gutter"},We={key:0},Ye={class:"v-view-calculator__result__option"},Ze={key:1};function xe(e,l,m,b,h,$){const a=c("app-nav"),p=c("app-section");return s(),o("div",Me,[_(a),Be,(s(!0),o(S,null,g(e.sections,u=>(s(),k(p,{section:u},null,8,["section"]))),256)),t("div",Pe,[e.total>0&&e.showFixedResult?(s(),o("div",Ue,[t("div",je,[t("div",null,"resultat: "+i(e.total)+".\u2014 CHF",1)])])):n("",!0),t("div",De,[(s(!0),o(S,null,g(e.sections,(u,R)=>(s(),o("span",{class:A(["v-view-calculator__footer__status__items",{"is-empty":u.status==="empty"}])},[R>0?(s(),o("span",Le," |\xA0")):n("",!0),ze,r("\xA0"+i(u.title),1)],2))),256))])]),t("div",Ge,[t("div",Xe,[Je,Ke,t("div",Qe,[e.total>0?(s(),o("div",We,[r("resultat: "+i(e.total)+".\u2014 CHF ",1),t("div",Ye,[r("Collectif d'artiste? "),t("div",{class:A(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:l[0]||(l[0]=u=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2)])])):(s(),o("h6",Ze,"Compl\xE9tez l\u2019ensemble des options pour afficher le r\xE9sultat"))])],512)])])}const ot=v(qe,[["render",xe],["__scopeId","data-v-d776e07c"]]);export{ot as default};
