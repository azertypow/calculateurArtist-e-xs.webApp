import{d as _,_ as d,r as p,o as s,c as i,a as t,b as g,t as o,e as n,p as k,f as C,I as w,N as E,w as I,v as N,g as r,n as V,F as $,h as f,i as y,j as M,A as R,u as q}from"./index.958be1df.js";import{A as O}from"./AppCheckbox.48d5927c.js";const L=_({name:"SubsectionOption",components:{AppCheckbox:O},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const P=e=>(k("data-v-b625d30e"),e=e(),C(),e),B={class:"v-subsection-option app-subsection"},U={class:"app-g"},j=P(()=>t("div",{class:"app-g__coll-6-12"},null,-1)),D={class:"app-g__coll-6-12"},z={key:0,class:"v-subsection-option__info-value"};function G(e,u,b,v,m,h){const l=p("app-checkbox");return s(),i("div",B,[t("div",U,[j,t("div",D,[g(l,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(s(),i("div",z,"(\xA0"+o(e.numberValue)+"/heure\xA0)",1)):n("",!0)])])])}const T=d(L,[["render",G],["__scopeId","data-v-b625d30e"]]),X=_({name:"AppNumberValue",components:{IconPen:w},props:{numberSubsection:{type:Object,default:new E}}});const J={class:"v-app-number-value"},K={class:"v-app-number-value__icon"},Q={key:0,class:"v-app-number-value__device"},W=["min"],Y={key:1,class:"v-app-number-value__end"},Z={key:2,class:"v-app-number-value__device"};function x(e,u,b,v,m,h){const l=p("icon-pen");return s(),i("div",J,[t("div",K,[g(l)]),e.numberSubsection.unit==="CHF"?(s(),i("div",Q,"CHF")):n("",!0),I(t("input",{class:"app-value-number",type:"number","onUpdate:modelValue":u[0]||(u[0]=a=>e.numberSubsection.value=a),min:e.numberSubsection.min},null,8,W),[[N,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(s(),i("div",Y,"\xA0\xA0\xA0.\u2014")):e.numberSubsection.unit?(s(),i("div",Z,"\xA0\xA0\xA0"+o(e.numberSubsection.unit),1)):n("",!0)])}const F=d(X,[["render",x],["__scopeId","data-v-2f6ab2e6"]]),ee=_({name:"SubsectionNumber",components:{IconPen:w,AppNumberValue:F},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const S=e=>(k("data-v-166402d8"),e=e(),C(),e),te={class:"v-subsection-number app-subsection"},se={key:0,class:"app-g"},ie=S(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),oe={class:"app-g__coll-4-12 app-with-gutter"},ne={key:0,class:"app-g__coll-6-12 app-with-gutter"},ue={key:1,class:"v-subsection-number__multiplier-editable"},le={key:0},ae={key:1},pe={key:2},ce={class:"app-g app-g--align-end"},re=S(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),_e={class:"app-g__coll-4-12 app-with-gutter"},de={key:0},be={class:"app-g__coll-6-12"},ve={key:1,class:"app-g v-subsection-number__multiplier--is-info"},me=S(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),he=S(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},null,-1)),ge={class:"app-g__coll-6-12 app-with-gutter"},Se={key:0},$e={key:1},fe={key:2};function ye(e,u,b,v,m,h){const l=p("icon-pen"),a=p("app-number-value");return s(),i("div",te,[e.multiplier&&e.multiplier.status==="reg"?(s(),i("div",se,[ie,t("div",oe,o(e.multiplier.text),1),e.multiplier.isEditable?(s(),i("div",ue,[t("div",null,[g(l)]),e.multiplier.unit==="CHF"?(s(),i("div",le,"CHF")):n("",!0),I(t("input",{class:"app-g__coll-6-12 app-with-gutter app-value-number","onUpdate:modelValue":u[0]||(u[0]=c=>e.multiplier.value=c),type:"number",min:"0"},null,512),[[N,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(s(),i("div",ae,"\xA0\xA0\xA0.\u2014")):e.multiplier.unit?(s(),i("div",pe,o(e.numberSubsection.unit),1)):n("",!0)])):(s(),i("div",ne,o(e.multiplier.value),1))])):n("",!0),t("div",ce,[re,t("div",_e,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(s(),i("span",de,"\u21B3 ")):n("",!0),r(o(e.numberSubsection.text),1)]),t("div",be,[g(a,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(s(),i("div",ve,[me,he,t("div",ge,[r(o(e.multiplier.text),1),e.multiplier.unit==="CHF"?(s(),i("span",Se,"CHF")):n("",!0),r(" "+o(e.multiplier.value),1),e.multiplier.unit==="CHF"?(s(),i("span",$e,".\u2013")):e.multiplier.unit?(s(),i("span",fe,"\xA0"+o(e.multiplier.unit),1)):n("",!0)])])):n("",!0)])}const H=d(ee,[["render",ye],["__scopeId","data-v-166402d8"]]),ke=_({name:"AppSection",components:{SubsectionNumber:H,SubsectionOption:T},props:{section:{required:!0,type:Object}},computed:{sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const Ce={class:"v-app-section"},Ae={class:"v-app-section__required-info"},we={key:0,class:"v-app-section__required-info__true"},Ie={key:1,class:"v-app-section__required-info__false"},Ne={class:"app-g app-g--align-center"},Ve={class:"app-g__coll-2-12"},Oe={class:"app-g__coll-8-12"},Te={class:"app-g"},Fe={class:"app-g__coll-12-12"},He={class:"app-g"},Ee=t("div",{class:"app-g__coll-2-12"},null,-1),Me=["innerHTML"];function Re(e,u,b,v,m,h){const l=p("subsection-number"),a=p("subsection-option");return s(),i("div",Ce,[t("div",Ae,[e.classifiedSection.value.required?(s(),i("span",we,"*")):(s(),i("span",Ie,"Facultatif"))]),t("div",Ne,[t("div",Ve,[t("div",{class:V([{"is-empty":e.classifiedSection.value.status==="empty"},"v-app-section__index"])},o(e.classifiedSection.value.index),3)]),t("div",Oe,[t("div",null,o(e.classifiedSection.value.title),1)])]),t("div",Te,[t("div",Fe,[e.sectionIsNumber?(s(!0),i($,{key:0},f(e.sectionIsNumber.subSections,c=>(s(),y(l,{numberSubsection:c},null,8,["numberSubsection"]))),256)):n("",!0),e.sectionIsOption?(s(!0),i($,{key:1},f(e.sectionIsOption.subSections,c=>(s(),y(a,{optionSubsection:c},null,8,["optionSubsection"]))),256)):n("",!0)])]),t("div",He,[Ee,t("div",{class:"app-g__coll-10-12 v-app-section__help",innerHTML:e.section.help},null,8,Me)])])}const qe=d(ke,[["render",Re]]),Le=_({name:"ViewCalculator",components:{AppPanel:M,SubsectionNumber:H,SubsectionOption:T,AppNumberValue:F,AppSection:qe,AppCheckbox:O,AppNav:R},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:q(),proto:!0,checkeds:[]}},methods:{getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.globalStore.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{sections(){return this.globalStore.calculatorSections},total(){return this.globalStore.total}}});const A=e=>(k("data-v-a30d6336"),e=e(),C(),e),Pe={class:"v-view-calculator app-view"},Be=A(()=>t("h2",null,"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),Ue={class:"v-view-calculator__result"},je={class:"app-g",ref:"total"},De=A(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),ze=A(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},"TOTAL",-1)),Ge={class:"v-view-calculator__result__result-container app-g__coll-6-12 app-with-gutter"},Xe={key:0},Je={class:"v-view-calculator__result__option"},Ke={key:1};function Qe(e,u,b,v,m,h){const l=p("app-section");return s(),i("div",Pe,[Be,(s(!0),i($,null,f(e.sections,a=>(s(),y(l,{section:a},null,8,["section"]))),256)),t("div",Ue,[t("div",je,[De,ze,t("div",Ge,[e.total>0?(s(),i("div",Xe,[r("r\xE9sultat: "+o(e.total)+".\u2014 CHF ",1),t("div",Je,[r("Collectif d\u2019artiste? "),t("div",{class:V(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:u[0]||(u[0]=a=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2)])])):(s(),i("h6",Ke,"Compl\xE9tez l\u2019ensemble des options pour afficher le r\xE9sultat"))])],512)])])}const Ze=d(Le,[["render",Qe],["__scopeId","data-v-a30d6336"]]);export{Ze as default};
