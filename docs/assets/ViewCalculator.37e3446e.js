import{d as r,_,r as c,o as s,c as o,a as t,b as $,t as i,e as u,p as C,f as A,I,w as N,v as V,g as h,n as w,F as g,h as f,i as k,A as T}from"./index.6e4a5a48.js";import{A as F,N as E,u as R}from"./globalStore.255602bf.js";const q=r({name:"SubsectionOption",components:{AppCheckbox:F},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const M=e=>(C("data-v-b625d30e"),e=e(),A(),e),B={class:"v-subsection-option app-subsection"},x={class:"app-g"},P=M(()=>t("div",{class:"app-g__coll-6-12"},null,-1)),U={class:"app-g__coll-6-12"},D={key:0,class:"v-subsection-option__info-value"};function j(e,n,d,v,m,b){const a=c("app-checkbox");return s(),o("div",B,[t("div",x,[P,t("div",U,[$(a,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(s(),o("div",D,"(\xA0"+i(e.numberValue)+"/heure\xA0)",1)):u("",!0)])])])}const O=_(q,[["render",j],["__scopeId","data-v-b625d30e"]]),z=r({name:"AppNumberValue",components:{IconPen:I},props:{numberSubsection:{type:Object,default:new E}}});const G={class:"v-app-number-value"},X={class:"v-app-number-value__icon"},J={key:0,class:"v-app-number-value__device"},K=["min"],Q={key:1,class:"v-app-number-value__end"},W={key:2,class:"v-app-number-value__device"};function Y(e,n,d,v,m,b){const a=c("icon-pen");return s(),o("div",G,[t("div",X,[$(a)]),e.numberSubsection.unit==="CHF"?(s(),o("div",J,"CHF")):u("",!0),N(t("input",{class:"app-value-number",type:"number","onUpdate:modelValue":n[0]||(n[0]=p=>e.numberSubsection.value=p),min:e.numberSubsection.min},null,8,K),[[V,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(s(),o("div",Q,"\xA0\xA0\xA0.\u2014")):e.numberSubsection.unit?(s(),o("div",W,"\xA0\xA0\xA0"+i(e.numberSubsection.unit),1)):u("",!0)])}const H=_(z,[["render",Y],["__scopeId","data-v-2f6ab2e6"]]),Z=r({name:"SubsectionNumber",components:{IconPen:I,AppNumberValue:H},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const S=e=>(C("data-v-166402d8"),e=e(),A(),e),ee={class:"v-subsection-number app-subsection"},te={key:0,class:"app-g"},se=S(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),oe={class:"app-g__coll-4-12 app-with-gutter"},ie={key:0,class:"app-g__coll-6-12 app-with-gutter"},ne={key:1,class:"v-subsection-number__multiplier-editable"},le={key:0},ue={key:1},ae={key:2},ce={class:"app-g app-g--align-end"},pe=S(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),re={class:"app-g__coll-4-12 app-with-gutter"},_e={key:0},de={class:"app-g__coll-6-12"},ve={key:1,class:"app-g v-subsection-number__multiplier--is-info"},me=S(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),be=S(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},null,-1)),he={class:"app-g__coll-6-12 app-with-gutter"},$e={key:0},ge={key:1},fe={key:2};function Se(e,n,d,v,m,b){const a=c("icon-pen"),p=c("app-number-value");return s(),o("div",ee,[e.multiplier&&e.multiplier.status==="reg"?(s(),o("div",te,[se,t("div",oe,i(e.multiplier.text),1),e.multiplier.isEditable?(s(),o("div",ne,[t("div",null,[$(a)]),e.multiplier.unit==="CHF"?(s(),o("div",le,"CHF")):u("",!0),N(t("input",{class:"app-g__coll-6-12 app-with-gutter app-value-number","onUpdate:modelValue":n[0]||(n[0]=l=>e.multiplier.value=l),type:"number",min:"0"},null,512),[[V,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(s(),o("div",ue,"\xA0\xA0\xA0.\u2014")):e.multiplier.unit?(s(),o("div",ae,i(e.numberSubsection.unit),1)):u("",!0)])):(s(),o("div",ie,i(e.multiplier.value),1))])):u("",!0),t("div",ce,[pe,t("div",re,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(s(),o("span",_e,"\u21B3 ")):u("",!0),h(i(e.numberSubsection.text),1)]),t("div",de,[$(p,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(s(),o("div",ve,[me,be,t("div",he,[h(i(e.multiplier.text),1),e.multiplier.unit==="CHF"?(s(),o("span",$e,"CHF")):u("",!0),h(" "+i(e.multiplier.value),1),e.multiplier.unit==="CHF"?(s(),o("span",ge,".\u2013")):e.multiplier.unit?(s(),o("span",fe,"\xA0"+i(e.multiplier.unit),1)):u("",!0)])])):u("",!0)])}const L=_(Z,[["render",Se],["__scopeId","data-v-166402d8"]]),ye=r({name:"AppSection",components:{SubsectionNumber:L,SubsectionOption:O},props:{section:{required:!0,type:Object}},computed:{sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const we={class:"v-app-section"},ke={class:"v-app-section__required-info"},Ce={key:0,class:"v-app-section__required-info__true"},Ae={key:1,class:"v-app-section__required-info__false"},Ie={class:"app-g app-g--align-center"},Ne={class:"app-g__coll-2-12"},Ve={class:"app-g__coll-8-12"},Fe={class:"app-g"},Oe={class:"app-g__coll-12-12"},He={class:"app-g"},Le=t("div",{class:"app-g__coll-2-12"},null,-1),Te=["innerHTML"];function Ee(e,n,d,v,m,b){const a=c("subsection-number"),p=c("subsection-option");return s(),o("div",we,[t("div",ke,[e.classifiedSection.value.required?(s(),o("span",Ce,"*")):(s(),o("span",Ae,"Facultatif"))]),t("div",Ie,[t("div",Ne,[t("div",{class:w([{"is-empty":e.classifiedSection.value.status==="empty"},"v-app-section__index"])},i(e.classifiedSection.value.index),3)]),t("div",Ve,[t("div",null,i(e.classifiedSection.value.title),1)])]),t("div",Fe,[t("div",Oe,[e.sectionIsNumber?(s(!0),o(g,{key:0},f(e.sectionIsNumber.subSections,l=>(s(),k(a,{numberSubsection:l},null,8,["numberSubsection"]))),256)):u("",!0),e.sectionIsOption?(s(!0),o(g,{key:1},f(e.sectionIsOption.subSections,l=>(s(),k(p,{optionSubsection:l},null,8,["optionSubsection"]))),256)):u("",!0)])]),t("div",He,[Le,t("div",{class:"app-g__coll-10-12 v-app-section__help",innerHTML:e.section.help},null,8,Te)])])}const Re=_(ye,[["render",Ee]]),qe=r({name:"AppLexicalBottom",components:{}});const Me={class:"v-app-lexical-bottom"};function Be(e,n,d,v,m,b){return s(),o("div",Me)}const xe=_(qe,[["render",Be],["__scopeId","data-v-d19050c4"]]),Pe=r({name:"ViewCalculator",components:{AppLexicalBottom:xe,SubsectionNumber:L,SubsectionOption:O,AppNumberValue:H,AppSection:Re,AppCheckbox:F,AppNav:T},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:R(),proto:!0,checkeds:[],showFixedResult:!0,showLexical:!1}},methods:{getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)},toggleLexical(){}},computed:{sections(){return this.globalStore.calculatorSections},total(){return this.globalStore.total}}});const y=e=>(C("data-v-0cf582b1"),e=e(),A(),e),Ue={class:"v-view-calculator app-view"},De=y(()=>t("h2",null,"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),je={class:"v-view-calculator__result"},ze={class:"app-g",ref:"total"},Ge=y(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),Xe=y(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},"TOTAL",-1)),Je={class:"v-view-calculator__result__result-container app-g__coll-6-12 app-with-gutter"},Ke={key:0},Qe={class:"v-view-calculator__result__option"},We={key:1},Ye={class:"v-view-calculator__footer"},Ze={key:0,class:"v-view-calculator__footer__result"},et={class:"v-view-calculator__footer__content"},tt={class:"v-view-calculator__footer__status"},st={class:"v-view-calculator__footer__info"},ot={class:"v-view-calculator__footer__info__container"},it=y(()=>t("div",{class:"v-view-calculator__footer__info__container"},[t("div",null,[t("span",null,"Site en version beta")]),t("div",null,[t("span",null,"Suggestion\xA0?")])],-1));function nt(e,n,d,v,m,b){const a=c("app-section"),p=c("app-lexical-bottom");return s(),o("div",Ue,[De,(s(!0),o(g,null,f(e.sections,l=>(s(),k(a,{section:l},null,8,["section"]))),256)),t("div",je,[t("div",ze,[Ge,Xe,t("div",Je,[e.total>0?(s(),o("div",Ke,[h("r\xE9sultat: "+i(e.total)+".\u2014 CHF ",1),t("div",Qe,[h("Collectif d\u2019artiste? "),t("div",{class:w(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:n[0]||(n[0]=l=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2)])])):(s(),o("h6",We,"Compl\xE9tez l\u2019ensemble des options pour afficher le r\xE9sultat"))])],512)]),t("div",Ye,[e.total>0&&e.showFixedResult?(s(),o("div",Ze,[t("div",et,[t("div",null,"r\xE9sultat: "+i(e.total)+".\u2014 CHF",1)])])):u("",!0),t("div",tt,[(s(!0),o(g,null,f(e.sections,(l,lt)=>(s(),o("span",{class:w(["v-view-calculator__footer__status__items app-with-circle-status",{"app-with-circle-status--active":l.status!=="empty"}])},i(l.title),3))),256))]),t("div",st,[$(p),t("div",ot,[t("div",null,[t("span",{class:"app-with-circle-status",style:{cursor:"pointer"},onClick:n[1]||(n[1]=(...l)=>e.toggleLexical&&e.toggleLexical(...l))},"Lexique")])]),it])])])}const ct=_(Pe,[["render",nt],["__scopeId","data-v-0cf582b1"]]);export{ct as default};
