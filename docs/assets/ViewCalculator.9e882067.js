import{d,_ as m,r as u,o as t,c as o,a as s,b as r,t as n,e as i,p as k,f as C,I,N as M,w as N,v as A,g as _,u as H,n as T,F as S,h as f,i as y,j as R,A as q}from"./index.06bb3ba2.js";import{A as V}from"./AppCheckbox.92b9097f.js";const L=d({name:"SubsectionOption",components:{AppCheckbox:V},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const P=e=>(k("data-v-699d5bc1"),e=e(),C(),e),B={class:"v-subsection-option app-subsection"},U={class:"app-g"},j=P(()=>s("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-6-12"},null,-1)),D={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},z={key:0,class:"v-subsection-option__info-value"};function G(e,l,b,v,h,g){const p=u("app-checkbox");return t(),o("div",B,[s("div",U,[j,s("div",D,[r(p,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(t(),o("div",z,"CHF "+n(e.numberValue)+".\u2014",1)):i("",!0)])])])}const F=m(L,[["render",G],["__scopeId","data-v-699d5bc1"]]),X=d({name:"AppNumberValue",components:{IconPen:I},props:{numberSubsection:{type:Object,default:new M}}});const J={class:"v-app-number-value"},K={class:"v-app-number-value__icon"},Q={key:0,class:"v-app-number-value__device"},W=["min"],Y={key:1,class:"v-app-number-value__end"},Z={key:2,class:"v-app-number-value__device"};function x(e,l,b,v,h,g){const p=u("icon-pen");return t(),o("div",J,[s("div",K,[r(p)]),e.numberSubsection.unit==="CHF"?(t(),o("div",Q,"CHF")):i("",!0),N(s("input",{class:"app-value-number",type:"number","onUpdate:modelValue":l[0]||(l[0]=c=>e.numberSubsection.value=c),min:e.numberSubsection.min},null,8,W),[[A,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(t(),o("div",Y,".\u2014")):e.numberSubsection.unit?(t(),o("div",Z,n(e.numberSubsection.unit),1)):i("",!0)])}const O=m(X,[["render",x],["__scopeId","data-v-a629be42"]]),ee=d({name:"SubsectionNumber",components:{IconPen:I,AppNumberValue:O},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const $=e=>(k("data-v-18c8c19e"),e=e(),C(),e),te={class:"v-subsection-number app-subsection"},se={key:0,class:"app-g app-g--align-start"},oe=$(()=>s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),ie={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},ne={key:0,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},le={key:0},pe={key:1},ae={key:1,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 v-subsection-number__multiplier-editable"},ue={key:0},ce={key:1},_e={key:2},re={class:"app-g app-g--align-center"},de=$(()=>s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),me={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},be={key:0},ve={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},he={key:1,class:"app-g v-subsection-number__multiplier--is-info"},ge=$(()=>s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),Se=$(()=>s("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},null,-1)),$e={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},fe={key:0},ye={key:1},ke={key:2};function Ce(e,l,b,v,h,g){const p=u("icon-pen"),c=u("app-number-value");return t(),o("div",te,[e.multiplier&&e.multiplier.status==="reg"?(t(),o("div",se,[oe,s("div",ie,n(e.multiplier.text),1),e.multiplier.isEditable?(t(),o("div",ae,[s("div",null,[r(p)]),e.multiplier.unit==="CHF"?(t(),o("div",ue,"CHF")):i("",!0),N(s("input",{class:"app-value-number","onUpdate:modelValue":l[0]||(l[0]=a=>e.multiplier.value=a),type:"number",min:"0"},null,512),[[A,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(t(),o("div",ce,".\u2014")):e.multiplier.unit?(t(),o("div",_e,n(e.numberSubsection.unit),1)):i("",!0)])):(t(),o("div",ne,[e.multiplier.unit==="CHF"?(t(),o("span",le,"CHF")):i("",!0),_(" "+n(e.multiplier.value)+" ",1),e.multiplier.unit==="CHF"?(t(),o("span",pe,".\u2014")):i("",!0)]))])):i("",!0),s("div",re,[de,s("div",me,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(t(),o("span",be,"\u21B3 ")):i("",!0),_(n(e.numberSubsection.text),1)]),s("div",ve,[r(c,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(t(),o("div",he,[ge,Se,s("div",$e,[_(n(e.multiplier.text),1),e.multiplier.unit==="CHF"?(t(),o("span",fe,"CHF")):i("",!0),_(" "+n(e.multiplier.value),1),e.multiplier.unit==="CHF"?(t(),o("span",ye,".\u2013")):e.multiplier.unit?(t(),o("span",ke,"\xA0"+n(e.multiplier.unit),1)):i("",!0)])])):i("",!0)])}const E=m(ee,[["render",Ce],["__scopeId","data-v-18c8c19e"]]),we=d({name:"AppSection",components:{SubsectionNumber:E,SubsectionOption:F},props:{section:{required:!0,type:Object}},computed:{showHelpers(){return H().showHelpers},sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const Ie={class:"v-app-section"},Ne={class:"v-app-section__required-info"},Ae={key:0,class:"v-app-section__required-info__true"},He={key:1,class:"v-app-section__required-info__false"},Te={class:"app-g app-g--align-center"},Ve={class:"app-g__coll-sm-auto app-g__coll-2-12"},Fe={class:"app-g__coll-8-12 app-with-gutter"},Oe={class:"app-g"},Ee={class:"app-g__coll-12-12"},Me={class:"app-g"},Re=s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12"},null,-1),qe=["innerHTML"];function Le(e,l,b,v,h,g){const p=u("subsection-number"),c=u("subsection-option");return t(),o("div",Ie,[s("div",Ne,[e.classifiedSection.value.required?(t(),o("span",Ae,"*")):(t(),o("span",He,"Facultatif"))]),s("div",Te,[s("div",Ve,[s("div",{class:T([{"is-empty":e.classifiedSection.value.status==="empty"},"v-app-section__index"])},n(e.classifiedSection.value.index),3)]),s("div",Fe,[s("div",null,n(e.classifiedSection.value.title),1)])]),s("div",Oe,[s("div",Ee,[e.sectionIsNumber?(t(!0),o(S,{key:0},f(e.sectionIsNumber.subSections,a=>(t(),y(p,{numberSubsection:a},null,8,["numberSubsection"]))),256)):i("",!0),e.sectionIsOption?(t(!0),o(S,{key:1},f(e.sectionIsOption.subSections,a=>(t(),y(c,{optionSubsection:a},null,8,["optionSubsection"]))),256)):i("",!0)])]),s("div",Me,[Re,e.showHelpers?(t(),o("div",{key:0,class:"app-g__coll-sm-12-12 app-g__coll-10-12 v-app-section__help",innerHTML:e.section.help},null,8,qe)):i("",!0)])])}const Pe=m(we,[["render",Le]]),Be=d({name:"ViewCalculator",components:{AppPanel:R,SubsectionNumber:E,SubsectionOption:F,AppNumberValue:O,AppSection:Pe,AppCheckbox:V,AppNav:q},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:H(),proto:!0,checkeds:[]}},methods:{getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.globalStore.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{sections(){return this.globalStore.calculatorSections},globalTotal(){return this.globalStore.globalTotal}}});const w=e=>(k("data-v-d3d9d20b"),e=e(),C(),e),Ue={class:"v-view-calculator app-view"},je={class:"v-view-calculator__nav-box"},De=w(()=>s("h2",{class:"app-with-gutter"},"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),ze={class:"v-view-calculator__result"},Ge={class:"app-g",ref:"total"},Xe=w(()=>s("div",{class:"app-g__coll-2-12 app-g__coll-sm-0-12 app-with-gutter"},null,-1)),Je=w(()=>s("div",{class:"app-g__coll-2-12 app-g__coll-sm-3-12 app-with-gutter"},"TOTAL",-1)),Ke={class:"v-view-calculator__result__result-container app-g__coll-8-12 app-g__coll-sm-9-12 app-with-gutter"},Qe={key:0},We={class:"v-view-calculator__result__option"},Ye={key:1,class:"v-view-calculator__result__option_info",style:{"text-align":"right","max-width":"none"}},Ze={key:1,style:{margin:"0"}};function xe(e,l,b,v,h,g){const p=u("app-nav"),c=u("app-section");return t(),o("div",Ue,[s("div",je,[r(p)]),De,(t(!0),o(S,null,f(e.sections,a=>(t(),y(c,{section:a},null,8,["section"]))),256)),s("div",ze,[s("div",Ge,[Xe,Je,s("div",Ke,[typeof e.globalTotal=="number"?(t(),o("div",Qe,[_("CHF "+n(e.globalTotal),1),e.globalTotal%1===0?(t(),o(S,{key:0},[_(".\u2014")],64)):i("",!0),s("div",We,[s("div",{class:T(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:l[0]||(l[0]=a=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2),_(" Collectif d\u2019artiste? ")]),e.globalStore.isACollective?(t(),o("div",Ye," Les collectifs d\u2019artistes sont r\xE9mun\xE9r\xE9s selon un coefficient de 1,5. ")):i("",!0)])):(t(),o("h6",Ze,n(e.globalTotal.errorMessage),1))])],512)])])}const st=m(Be,[["render",xe],["__scopeId","data-v-d3d9d20b"]]);export{st as default};
