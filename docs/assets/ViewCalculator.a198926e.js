import{d as b,_ as h,r as v,o as t,c as l,a as o,b as k,t as s,e as i,p as C,f as O,I,N,w as E,v as M,g as V,h as d,F as u,O as U,i as R,u as f,n as L,j as F,k as p,l as z,m as G,q as W,s as X,x as T,y as $,z as J,A as K}from"./index.88f27ad0.js";import{A as P}from"./AppCheckbox.71e1cfca.js";const Q=b({name:"SubsectionOption",components:{AppCheckbox:P},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const Y=e=>(C("data-v-699d5bc1"),e=e(),O(),e),Z={class:"v-subsection-option app-subsection"},x={class:"app-g"},ee=Y(()=>o("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-6-12"},null,-1)),te={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},oe={key:0,class:"v-subsection-option__info-value"};function le(e,c,r,_,g,S){const a=v("app-checkbox");return t(),l("div",Z,[o("div",x,[ee,o("div",te,[k(a,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(t(),l("div",oe,"CHF "+s(e.numberValue)+".\u2014",1)):i("",!0)])])])}const q=h(Q,[["render",le],["__scopeId","data-v-699d5bc1"]]),se=b({name:"AppNumberValue",components:{IconPen:I},props:{numberSubsection:{type:Object,default:new N}}});const ie={class:"v-app-number-value"},ne={class:"v-app-number-value__icon"},ae={key:0,class:"v-app-number-value__device"},ce=["min"],ue={key:1,class:"v-app-number-value__end"},re={key:2,class:"v-app-number-value__device"};function pe(e,c,r,_,g,S){const a=v("icon-pen");return t(),l("div",ie,[o("div",ne,[k(a)]),e.numberSubsection.unit==="CHF"?(t(),l("div",ae,"CHF")):i("",!0),E(o("input",{class:"app-value-number",type:"number","onUpdate:modelValue":c[0]||(c[0]=n=>e.numberSubsection.value=n),min:e.numberSubsection.min},null,8,ce),[[M,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(t(),l("div",ue,".\u2014")):e.numberSubsection.unit?(t(),l("div",re,s(e.numberSubsection.unit),1)):i("",!0)])}const D=h(se,[["render",pe],["__scopeId","data-v-a629be42"]]),_e=b({name:"SubsectionNumber",methods:{formatCHF:V},components:{IconPen:I,AppNumberValue:D},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const y=e=>(C("data-v-14354880"),e=e(),O(),e),de={class:"v-subsection-number app-subsection"},ve={key:0,class:"app-g app-g--align-start"},me=y(()=>o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),be={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},he={key:0,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},ge={key:0},Se={key:1},$e={key:1,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 v-subsection-number__multiplier-editable"},ke={key:0},ye={key:1},Te={key:2},fe=y(()=>o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),Ce=y(()=>o("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},null,-1)),Oe={style:{"padding-bottom":"2rem","line-height":"2rem","font-size":"1.4rem"},class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},we={class:"app-g app-g--align-center"},Fe=y(()=>o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),Ve={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},Ae={key:0},He={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},Ie={key:1,class:"app-g v-subsection-number__multiplier--is-info"},Ne=y(()=>o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),Ee=y(()=>o("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},null,-1)),Me={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},Re=["innerHTML"],Le={key:1};function Pe(e,c,r,_,g,S){const a=v("icon-pen"),n=v("app-number-value");return t(),l("div",de,[e.multiplier&&e.multiplier.status==="reg"?(t(),l("div",ve,[me,o("div",be,s(e.multiplier.text),1),e.multiplier.isEditable?(t(),l("div",$e,[o("div",null,[k(a)]),e.multiplier.unit==="CHF"?(t(),l("div",ke,"CHF")):i("",!0),E(o("input",{class:"app-value-number","onUpdate:modelValue":c[0]||(c[0]=m=>e.multiplier.value=m),type:"number",min:"0"},null,512),[[M,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(t(),l("div",ye,".\u2014")):e.multiplier.unit?(t(),l("div",Te,s(e.numberSubsection.unit),1)):i("",!0)])):(t(),l("div",he,[e.multiplier.unit==="CHF"?(t(),l("span",ge,"CHF")):i("",!0),d(" "+s(e.multiplier.value)+" ",1),e.multiplier.unit==="CHF"?(t(),l("span",Se,".\u2014")):i("",!0)])),fe,Ce,o("div",Oe,s(e.numberSubsection.conseilValue),1)])):i("",!0),o("div",we,[Fe,o("div",Ve,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(t(),l("span",Ae,"\u21B3 ")):i("",!0),d(s(e.numberSubsection.text),1)]),o("div",He,[k(n,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(t(),l("div",Ie,[Ne,Ee,o("div",Me,[o("span",{innerHTML:e.multiplier.text},null,8,Re),e.multiplier.unit==="CHF"?(t(),l(u,{key:0},[d(" CHF "+s(e.formatCHF(e.multiplier.value)),1)],64)):e.multiplier.unit?(t(),l("span",Le,"\xA0 "+s(e.multiplier.unit),1)):i("",!0)])])):i("",!0)])}const j=h(_e,[["render",Pe],["__scopeId","data-v-14354880"]]),qe=b({name:"AppSection",components:{SubsectionNumber:j,SubsectionOption:q},props:{section:{required:!0,type:Object}},computed:{OptionCalculatorSection(){return U},OptionCalculatorSubsection(){return R},showHelpers(){return f().showHelpers},sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const De={class:"v-app-section"},je={class:"v-app-section__required-info"},Be={key:0,class:"v-app-section__required-info__true"},Ue={key:1,class:"v-app-section__required-info__false"},ze={class:"app-g app-g--align-center"},Ge={class:"app-g__coll-sm-auto app-g__coll-2-12"},We={class:"app-g__coll-8-12 app-with-gutter"},Xe={class:"app-g"},Je={class:"app-g__coll-12-12"},Ke={class:"app-g"},Qe=o("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12"},null,-1),Ye=["innerHTML"];function Ze(e,c,r,_,g,S){const a=v("subsection-number"),n=v("subsection-option");return t(),l("div",De,[o("div",je,[e.classifiedSection.value.required?(t(),l("span",Be,"*")):(t(),l("span",Ue,"Optionnel"))]),o("div",ze,[o("div",Ge,[o("div",{class:L([{"is-empty":e.classifiedSection.value.status==="empty"},"v-app-section__index"])},s(e.classifiedSection.value.index),3)]),o("div",We,[o("div",null,s(e.classifiedSection.value.title),1)])]),o("div",Xe,[o("div",Je,[e.sectionIsNumber?(t(!0),l(u,{key:0},F(e.sectionIsNumber.subSections,m=>(t(),p(a,{numberSubsection:m},null,8,["numberSubsection"]))),256)):i("",!0),e.sectionIsOption?(t(!0),l(u,{key:1},F(e.sectionIsOption.subSections,m=>(t(),p(n,{optionSubsection:m},null,8,["optionSubsection"]))),256)):i("",!0)])]),o("div",Ke,[Qe,e.section.help?(t(),l(u,{key:0},[e.showHelpers?(t(),l("div",{key:0,class:"app-g__coll-sm-12-12 app-g__coll-10-12 v-app-section__help",innerHTML:e.section.help},null,8,Ye)):i("",!0)],64)):i("",!0)])])}const xe=h(qe,[["render",Ze]]),et=b({methods:{formatCHF:V},props:{name:{type:String,required:!0},value:{type:Number,required:!0}}});const B=e=>(C("data-v-5d207369"),e=e(),O(),e),tt={class:"v-app-ticket-price"},ot={class:"v-app-ticket-price__title"},lt={class:"v-app-ticket-price__value"},st=B(()=>o("div",{class:"v-app-ticket-price__value__prefix"}," CHF ",-1)),it={class:"v-app-ticket-price__value__suffix"},nt=B(()=>o("footer",null,null,-1));function at(e,c,r,_,g,S){return t(),l("div",tt,[o("div",ot,s(e.name),1),o("div",lt,[st,o("div",it,s(e.formatCHF(e.value)),1)]),nt])}const ct=h(et,[["render",at],["__scopeId","data-v-5d207369"]]),ut=b({methods:{calculateTotalResultOfSubsections:z},components:{AppTicketPrice:ct},props:{},data(){return{globalStore:f()}},setup(){const e=G("");let c;const r=()=>{const _=new Date;e.value=_.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})};return W(()=>{r(),c=window.setInterval(r,3e4)}),X(()=>{clearInterval(c)}),{time:e}},computed:{modalitySelected(){var e,c,r,_;return(c=(e=this.globalStore)==null?void 0:e.calculatorSections[0]._value)!=null&&c.titre?(_=(r=this.globalStore)==null?void 0:r.calculatorSections[0]._value)==null?void 0:_.titre:null},NumberCalculatorSubsection(){return N},OptionCalculatorSubsection(){return R},calculatorSection_0_title(){return T},conditionOnTotalValue(){return Object.values(this.globalStore.conditionOnTotalValue)[0].value},globalConceptionPartTotal(){return this.globalStore.globalConceptionPartTotal},globalTotal(){return this.globalStore.globalTotal},globalTotalForIndependent(){return $(this.globalTotal,117.634)},globalTotalForAssociation(){return $(this.globalTotal,117.634)},globalTotalForSalarierStruct(){return $(this.globalTotal,100)}}});const w=e=>(C("data-v-960e6cbd"),e=e(),O(),e),rt={class:"v-app-ticket"},pt=w(()=>o("header",{class:"v-app-ticket__header"},[o("div",null,"travaildesartistes.ch")],-1)),_t={class:"v-app-ticket__main"},dt={key:0},vt={key:1,style:{margin:"0"}},mt={class:"v-app-ticket__main__date"},bt={class:"v-app-ticket__main__prices"},ht={key:0,class:"v-app-ticket__main__prices__item"},gt={key:0,class:"v-app-ticket__main__prices__item"},St={key:1,class:"v-app-ticket__main__prices__item"},$t={class:"v-app-ticket__main__total"},kt={class:"v-app-ticket__main__total__result"},yt=w(()=>o("div",null," TOTAL ",-1)),Tt={class:"v-app-ticket__main__total__result__value"},ft=w(()=>o("div",null," CHF\xA0 ",-1)),Ct={key:0},Ot={key:1},wt={key:2},Ft={key:1},Vt=w(()=>o("br",null,null,-1)),At=w(()=>o("div",{class:"v-app-ticket__main__footer"},[o("a",{href:"mailto:communication+calculateur@visarte-geneve.ch",target:"_blank"},"communication@visarte-geneve.ch")],-1));function Ht(e,c,r,_,g,S){const a=v("AppTicketPrice");return t(),l("section",rt,[pt,o("main",_t,[e.modalitySelected?(t(),l("div",dt,"Modalit\xE9 de r\xE9mun\xE9ration selectionn\xE9e\xA0: "+s(e.modalitySelected),1)):i("",!0),"errorMessage"in e.globalTotal?(t(),l("p",vt,s(e.globalTotal.errorMessage),1)):(t(),l(u,{key:2},[o("div",mt,[o("div",null,s(new Date().toLocaleDateString().replace(/\//g,".")),1),o("div",null,s(e.time),1)]),o("div",bt,[e.conditionOnTotalValue?(t(),l("div",ht,[e.conditionOnTotalValue===e.calculatorSection_0_title.asso?(t(),p(a,{key:0,name:"Honoraires de conception",value:e.globalConceptionPartTotal*(117.634/100)},null,8,["value"])):e.conditionOnTotalValue===e.calculatorSection_0_title.sal?(t(),p(a,{key:1,name:"Honoraires de conception",value:e.globalConceptionPartTotal*(100/100)},null,8,["value"])):(t(),p(a,{key:2,name:"Honoraires de conception",value:e.globalConceptionPartTotal*(117.634/100)},null,8,["value"]))])):i("",!0),e.conditionOnTotalValue?(t(!0),l(u,{key:1},F(e.globalStore.calculatorSections.slice(5,100),n=>(t(),l(u,null,[e.calculateTotalResultOfSubsections(n)>0?(t(),l(u,{key:0},[e.globalStore.isACollective?(t(),l("div",gt,[e.conditionOnTotalValue===e.calculatorSection_0_title.asso?(t(),p(a,{key:0,name:n.title,value:e.calculateTotalResultOfSubsections(n)*(117.634/100)*1.5},null,8,["name","value"])):e.conditionOnTotalValue===e.calculatorSection_0_title.sal?(t(),p(a,{key:1,name:n.title,value:e.calculateTotalResultOfSubsections(n)*(100/100)*1.5},null,8,["name","value"])):(t(),p(a,{key:2,name:n.title,value:e.calculateTotalResultOfSubsections(n)*(117.634/100)*1.5},null,8,["name","value"]))])):(t(),l("div",St,[e.conditionOnTotalValue===e.calculatorSection_0_title.asso?(t(),p(a,{key:0,name:n.title,value:e.calculateTotalResultOfSubsections(n)*(117.634/100)},null,8,["name","value"])):e.conditionOnTotalValue===e.calculatorSection_0_title.sal?(t(),p(a,{key:1,name:n.title,value:e.calculateTotalResultOfSubsections(n)*(100/100)},null,8,["name","value"])):(t(),p(a,{key:2,name:n.title,value:e.calculateTotalResultOfSubsections(n)*(117.634/100)},null,8,["name","value"]))]))],64)):i("",!0)],64))),256)):i("",!0)]),o("div",$t,[o("div",kt,[yt,o("div",Tt,[ft,e.conditionOnTotalValue?(t(),l(u,{key:0},[e.conditionOnTotalValue===e.calculatorSection_0_title.asso?(t(),l("div",Ct,s(e.globalTotalForAssociation),1)):e.conditionOnTotalValue===e.calculatorSection_0_title.sal?(t(),l("div",Ot,s(e.globalTotalForSalarierStruct),1)):(t(),l("div",wt,s(e.globalTotalForIndependent),1))],64)):(t(),l("div",Ft,s(e.globalTotalForIndependent),1))])])]),o("div",null,[e.conditionOnTotalValue===e.calculatorSection_0_title.ind?(t(),l(u,{key:0},[d(" Les montants sont indiqu\xE9s toutes charges comprises. ")],64)):i("",!0),e.conditionOnTotalValue===e.calculatorSection_0_title.sal?(t(),l(u,{key:1},[d(" Les montants sont indiqu\xE9s en salaire brut. ")],64)):i("",!0),e.conditionOnTotalValue===e.calculatorSection_0_title.asso?(t(),l(u,{key:2},[d(" Les montants sont indiqu\xE9s en co\xFBt total employeur (incl. 17.634% de charges patronales). ")],64)):i("",!0),e.globalStore.isACollective?(t(),l(u,{key:3},[Vt,d("Les collectifs d\u2019artistes sont r\xE9mun\xE9r\xE9s selon un coefficient de 1,5. ")],64)):i("",!0)]),At],64))])])}const It=h(ut,[["render",Ht],["__scopeId","data-v-960e6cbd"]]),Nt=b({name:"ViewCalculator",components:{AppTicket:It,AppPanel:J,SubsectionNumber:j,SubsectionOption:q,AppNumberValue:D,AppSection:xe,AppCheckbox:P,AppNav:K},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)}),gtag("event","page_view",{page_title:"ViewCalculator",page_location:"/#/calculateur"})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:f(),proto:!0,checkeds:[]}},methods:{formatCHF:V,useGlobalStore:f,getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.globalStore.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{calculatorSection_0_title(){return T},sections(){return this.globalStore.calculatorSections},globalTotal(){return this.globalStore.globalTotal},globalMessage(){return this.globalStore.globalMessageForTotalResult},conditionOnTotalValue(){return Object.values(this.globalStore.conditionOnTotalValue)[0].value},globalTotalForIndependent(){return $(this.globalTotal,117.634)},globalTotalForAssociation(){return $(this.globalTotal,117.634)},globalTotalForSalarierStruct(){return $(this.globalTotal,100)}}});f().$onAction(e=>{e.name==="setConditionOnTotalValue"&&(e.args[2]===T.ind||e.args[2]===T.asso||(e.args[2],T.sal))});const A=e=>(C("data-v-293b2b83"),e=e(),O(),e),Et={class:"v-view-calculator app-view"},Mt={class:"v-view-calculator__nav-box"},Rt=A(()=>o("h2",{class:"app-with-gutter"},"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),Lt={class:"v-view-calculator__wrap"},Pt={class:"v-view-calculator__wrap__main"},qt={class:"v-view-calculator__wrap__aside"},Dt={class:"v-view-calculator__ticket-container"},jt={class:"v-view-calculator__result"},Bt={class:"app-g",ref:"total"},Ut=A(()=>o("div",{class:"app-g__coll-2-12 app-g__coll-sm-0-12 app-with-gutter"},null,-1)),zt=A(()=>o("div",{class:"app-g__coll-2-12 app-g__coll-sm-3-12 app-with-gutter"},"TOTAL",-1)),Gt={class:"v-view-calculator__result__result-container app-g__coll-8-12 app-g__coll-sm-9-12 app-with-gutter"},Wt={key:0,style:{margin:"0"}},Xt={key:1},Jt={key:0},Kt={key:1},Qt={class:"v-view-calculator__result__option"},Yt={key:2,class:"v-view-calculator__result__option_info",style:{"text-align":"right","max-width":"none"}};function Zt(e,c,r,_,g,S){const a=v("app-nav"),n=v("app-section"),m=v("AppTicket");return t(),l("div",Et,[o("div",Mt,[k(a)]),Rt,o("div",Lt,[o("main",Pt,[(t(!0),l(u,null,F(e.sections,H=>(t(),p(n,{section:H},null,8,["section"]))),256))]),o("aside",qt,[o("div",Dt,[k(m)])])]),o("div",jt,[o("div",Bt,[Ut,zt,o("div",Gt,["errorMessage"in e.globalTotal?(t(),l("h6",Wt,s(e.globalTotal.errorMessage),1)):(t(),l("div",Xt,[e.conditionOnTotalValue?(t(),l(u,{key:0},[e.conditionOnTotalValue===e.calculatorSection_0_title.asso?(t(),l("div",Jt,"CHF "+s(e.formatCHF(e.globalTotalForAssociation)),1)):e.conditionOnTotalValue===e.calculatorSection_0_title.sal?(t(),l("div",Kt,"CHF "+s(e.formatCHF(e.globalTotalForSalarierStruct)),1)):(t(),l(u,{key:2},[d(" CHF "+s(e.formatCHF(e.globalTotalForIndependent)),1)],64))],64)):(t(),l(u,{key:1},[d(" CHF "+s(e.formatCHF(e.globalTotalForIndependent)),1)],64)),o("div",Qt,[o("div",{class:L(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:c[0]||(c[0]=H=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2),d(" Collectif d\u2019artiste? ")]),e.globalStore.isACollective?(t(),l("div",Yt," Les collectifs d\u2019artistes sont r\xE9mun\xE9r\xE9s selon un coefficient de 1,5. ")):i("",!0)]))])],512)])])}const to=h(Nt,[["render",Zt],["__scopeId","data-v-293b2b83"]]);export{to as default};
