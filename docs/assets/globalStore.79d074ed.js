var M=Object.defineProperty;var H=(u,e,t)=>e in u?M(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t;var r=(u,e,t)=>(H(u,typeof e!="symbol"?e+"":e,t),t);import{k as N}from"./index.425540f9.js";class A{constructor(e,t,n=!1,i){r(this,"type");this.index=e,this.title=t,this.required=n,this.info=i}}class d extends A{constructor(t,n,i=!1,s){super(t,n,i,s);r(this,"_subSections",[]);r(this,"_value");r(this,"type","option");r(this,"_onValueChange",[]);this.index=t,this.title=n,this.required=i,this.info=s}set value(t){this._value=t,this._onValueChange.forEach(n=>n())}addSubSection(...t){return t.forEach(n=>this._subSections.push(n.setParent(this))),this}get subSections(){return this._subSections}get status(){return this._value===void 0?"empty":"validate"}addOnChangeListener(t){this._onValueChange.push(t)}}class p extends A{constructor(t,n,i=!1,s){super(t,n,i,s);r(this,"_subSections",[]);r(this,"type","number");this.index=t,this.title=n,this.required=i,this.info=s}addSubSection(t){return this._subSections.push(t),this}get subSections(){return this._subSections}get value(){return this.subSections.reduce((t,n)=>n.status!=="validate"?t:t+n.value,0)}get status(){return this.value===0?"empty":"validate"}}class c{constructor(e,t=0,n,i=0,s=()=>({testValue:!0,msg:"Any test"})){r(this,"_multiplier");r(this,"parent");r(this,"onValueMultiplierChange",()=>{});this.text=e,this.value=t,this.unit=n,this.min=i,this.validateValueCheck=s}get hasMultiplier(){return this._multiplier!==void 0}setAMultiplier({value:e,text:t="",isEditable:n=!1,status:i="reg",unit:s,isActiveIfValueGreaterThan:a=0}){return this._multiplier={text:t,value:typeof e=="number"?e:e.defaultValue,status:i,unit:s,isEditable:n,isActiveIfValueGreaterThan:a},typeof e!="number"&&(e.onChange=()=>{console.log("change from NumberCalculatorSubsection"),this._multiplier={text:t,value:e.calculateValueOnChange(),status:i,unit:s,isActiveIfValueGreaterThan:a,isEditable:n},this.onValueMultiplierChange()}),this}get multiplier(){return this._multiplier}get status(){return this.value===0?"empty":this.validateValueCheck(this.value)?"validate":"error"}get result(){return this._multiplier?this._multiplier.value*(this.value-this._multiplier.isActiveIfValueGreaterThan):this.value}}class h{constructor(e){r(this,"_parent");r(this,"uniqueID");r(this,"titre");r(this,"subtitle");r(this,"_subsectionOptionChangeListener");r(this,"_result",0);r(this,"onResultChange",()=>{});e.numberValue&&(this._result=e.numberValue),this._subsectionOptionChangeListener=e.subsectionOptionChangeListener,this.subtitle=e.subtitle,this.titre=e.titre,this.uniqueID=e.uniqueID,this._initSubsectionOptionChangeListener()}_initSubsectionOptionChangeListener(){!this._subsectionOptionChangeListener||(this._result=this._subsectionOptionChangeListener.defaultValue,this._subsectionOptionChangeListener.onChange=()=>{console.log("change from OptionCalculatorSubsection"),this._subsectionOptionChangeListener&&(this._result=this._subsectionOptionChangeListener.calculateValueOnChange(),this.onResultChange())})}setParent(e){return this._parent=e,this}get parent(){return this._parent}get isActive(){var e;return this._parent===void 0?!1:((e=this._parent._value)==null?void 0:e.uniqueID)===this.uniqueID}get resultInfo(){return this._result}get result(){return this.isActive?this._result:0}}class v{constructor(e,t,n=0){return this._arrayOfSubsectionOptionToCheck=e,this.calculateValueOnChange=t,this.defaultValue=n,e.forEach(i=>{i.addOnChangeListener(()=>{console.log("change from ConditionalValueFromSubsectionOption"),this.onChange()})}),this}onChange(){}}function K(u,e){var t,n,i,s,a,b,f,_,g,q,D,I,C,w,m,x,E,S,O,k,L,V,F,y;return((t=u._value)==null?void 0:t.uniqueID)==="01"&&((n=e._value)==null?void 0:n.uniqueID)==="01"?101:((i=u._value)==null?void 0:i.uniqueID)==="02"&&((s=e._value)==null?void 0:s.uniqueID)==="01"?102:((a=u._value)==null?void 0:a.uniqueID)==="03"&&((b=e._value)==null?void 0:b.uniqueID)==="01"?103:((f=u._value)==null?void 0:f.uniqueID)==="04"&&((_=e._value)==null?void 0:_.uniqueID)==="01"?104:((g=u._value)==null?void 0:g.uniqueID)==="01"&&((q=e._value)==null?void 0:q.uniqueID)==="02"?201:((D=u._value)==null?void 0:D.uniqueID)==="02"&&((I=e._value)==null?void 0:I.uniqueID)==="02"?202:((C=u._value)==null?void 0:C.uniqueID)==="03"&&((w=e._value)==null?void 0:w.uniqueID)==="02"?203:((m=u._value)==null?void 0:m.uniqueID)==="04"&&((x=e._value)==null?void 0:x.uniqueID)==="02"?204:((E=u._value)==null?void 0:E.uniqueID)==="01"&&((S=e._value)==null?void 0:S.uniqueID)==="03"?301:((O=u._value)==null?void 0:O.uniqueID)==="02"&&((k=e._value)==null?void 0:k.uniqueID)==="03"?302:((L=u._value)==null?void 0:L.uniqueID)==="03"&&((V=e._value)==null?void 0:V.uniqueID)==="03"?303:((F=u._value)==null?void 0:F.uniqueID)==="04"&&((y=e._value)==null?void 0:y.uniqueID)==="03"?304:0}function T(u,e){var t,n,i,s,a;switch((t=u._value)==null?void 0:t.uniqueID){case"01":switch((n=e._value)==null?void 0:n.uniqueID){case"01":return 125;case"02":return 65;case"03":return 25}break;case"02":switch((i=e._value)==null?void 0:i.uniqueID){case"01":return 250;case"02":return 125;case"03":return 50}break;case"03":switch((s=e._value)==null?void 0:s.uniqueID){case"01":return 750;case"02":return 375;case"03":return 150}break;case"04":switch((a=e._value)==null?void 0:a.uniqueID){case"01":return 1250;case"02":return 625;case"03":return 250}break}return 0}function j(u,e){var t,n,i,s,a;switch((t=u._value)==null?void 0:t.uniqueID){case"01":switch((n=e._value)==null?void 0:n.uniqueID){case"01":return 500;case"02":return 250;case"03":return 100}break;case"02":switch((i=e._value)==null?void 0:i.uniqueID){case"01":return 1e3;case"02":return 500;case"03":return 200}break;case"03":switch((s=e._value)==null?void 0:s.uniqueID){case"01":return 3e3;case"02":return 1500;case"03":return 600}break;case"04":switch((a=e._value)==null?void 0:a.uniqueID){case"01":return 5e3;case"02":return 2500;case"03":return 1e3}break}return NaN}function B(u,e){var t,n,i,s,a;switch((t=u._value)==null?void 0:t.uniqueID){case"01":switch((n=e._value)==null?void 0:n.uniqueID){case"01":return 750;case"02":return 375;case"03":return 150}break;case"02":switch((i=e._value)==null?void 0:i.uniqueID){case"01":return 1500;case"02":return 750;case"03":return 300}break;case"03":switch((s=e._value)==null?void 0:s.uniqueID){case"01":return 4500;case"02":return 2250;case"03":return 900}break;case"04":switch((a=e._value)==null?void 0:a.uniqueID){case"01":return 7500;case"02":return 3750;case"03":return 1500}break}return NaN}function G(u,e){var t,n,i,s,a;switch((t=u._value)==null?void 0:t.uniqueID){case"01":switch((n=e._value)==null?void 0:n.uniqueID){case"01":return 1e3;case"02":return 500;case"03":return 200}break;case"02":switch((i=e._value)==null?void 0:i.uniqueID){case"01":return 2e3;case"02":return 1e3;case"03":return 400}break;case"03":switch((s=e._value)==null?void 0:s.uniqueID){case"01":return 6e3;case"02":return 3e3;case"03":return 1200}break;case"04":switch((a=e._value)==null?void 0:a.uniqueID){case"01":return 1e4;case"02":return 5e3;case"03":return 2e3}break}return NaN}function P(u){var e;switch((e=u._value)==null?void 0:e.uniqueID){case"01":return 250;case"02":return 500;case"03":return 750;case"04":return 1e3}return 0}const l=new d(1,"Taille de la structure",!0).addSubSection(new h({uniqueID:"01",titre:"Petit",subtitle:"< 50 000 CHF /ann\xE9e"}),new h({uniqueID:"02",titre:"Moyen",subtitle:"50K\u2013250K CHF /ann\xE9e"}),new h({uniqueID:"03",titre:"Grand",subtitle:"250K\u2013500K CHF /ann\xE9e"}),new h({uniqueID:"04",titre:"Tr\xE8s grande",subtitle:"> 500K CHF /ann\xE9e"})),o=new d(2,"Type d\u2019exposition",!0).addSubSection(new h({uniqueID:"01",titre:"Solo"}),new h({uniqueID:"02",titre:"2 \xE0 6 pers."}),new h({uniqueID:"03",titre:"7 et plus"})),J=N("globalStore",{state:function(){return{isACollective:!1,showFixedResult:!0,calculatorSections:[l,o,new d(3,"Emploi d\u2019une ou plusieurs \u0153uvres existantes",!0).addSubSection(new h({uniqueID:"01",titre:"\u0152uvre existante",subtitle:void 0,subsectionOptionChangeListener:new v([l,o],()=>j(l,o),0)}),new h({uniqueID:"02",titre:"adaptation d'une \u0153uvre existante (x1.5)",subtitle:void 0,subsectionOptionChangeListener:new v([l,o],()=>B(l,o),0)}),new h({uniqueID:"03",titre:"conception d'une ou plusieurs nouvelles \u0153uvres (x2)",subtitle:void 0,subsectionOptionChangeListener:new v([l,o],()=>G(l,o),0)})),new p(4,"Dur\xE9e de l'exposition",!1,"Montant forfaitaire suppl\xE9mentaire par mois au-del\xE0 du premier mois").addSubSection(new c("",1,"mois",1).setAMultiplier({value:new v([l,o],()=>T(l,o)),text:"Montant forfaitaire suppl\xE9mentaire par mois au-del\xE0 du premier mois: ",status:"info",unit:"CHF",isActiveIfValueGreaterThan:1})),new p(5,"Honoraires de r\xE9alisation (si r\xE9alis\xE9 par l\u2019artiste)").addSubSection(new c("nombre d'heures",0,"heures").setAMultiplier({text:"Co\xFBt horaire",isEditable:!0,unit:"CHF",value:new v([l,o],()=>{const u=K(l,o);return console.log(u),u})})).addSubSection(new c("Forfait de r\xE9alisation",0,"CHF")),new p(6,"Per Diem").addSubSection(new c("Nombre de jours",0,"jours").setAMultiplier({value:50,text:"Montant du pier diem: ",unit:"CHF",status:"info"})),new p(7,"Honoraires de montage et transport",!1,"recommandation de 60 CHF/h, minimum 23 CHF/h").addSubSection(new c("nombre d\u2019heures",0).setAMultiplier({value:60,text:"Co\xFBt horaire",isEditable:!0,unit:"heures"})),new p(8,"\xC9venement.s et pr\xE9paration").addSubSection(new c("nombre d\u2019occurences").setAMultiplier({value:new v([l],()=>P(l)),text:"Ev\xE9nement avec pr\xE9paration",unit:"CHF"})).addSubSection(new c("nombre d\u2019occurences").setAMultiplier({value:500,text:"\xC9v\xE8nement avec pr\xE9paration"})),new p(9,"Forfait texte / 1000 frappes",!1,"source?").addSubSection(new c("nombre d\u2019incidences").setAMultiplier({value:30,text:"Co\xFBt forfait text"}))],contractSection:{values:{Contrat:{subsections:[{type:"checkbox",name:"d'exposition",value:!1},{type:"checkbox",name:"pr\xE9sentation publique",value:!1},{type:"options",name:"production d'\u0153vre(s)",options:["avec","sans"],value:""}]},entre:{subsections:[]}}}}},getters:{total(){const u=this.isACollective?1.5:1;return this.calculatorSections.reduce((e,t)=>e+t.subSections.reduce((n,i)=>i&&typeof i=="object"&&"result"in i?n+i.result:0,0),0)*u}}});export{c as N,J as u};
