import{d as _,_ as d,r as c,o as s,c as o,a as t,b as $,t as i,e as n,p as k,f as C,I,w as N,v as V,g as r,F as S,h as g,i as w,A as T,n as A}from"./index.3647af76.js";import{A as F,N as R,u as q}from"./globalStore.7bcce325.js";const M=_({name:"SubsectionOption",components:{AppCheckbox:F},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const B=e=>(k("data-v-882d9a56"),e=e(),C(),e),P={class:"v-subsection-option app-subsection"},U={class:"app-g"},D=B(()=>t("div",{class:"app-g__coll-6-12"},null,-1)),L={class:"app-g__coll-6-12"},j={key:0,class:"v-subsection-option__info-value"};function z(e,l,v,m,b,h){const a=c("app-checkbox");return s(),o("div",P,[t("div",U,[D,t("div",L,[$(a,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(s(),o("div",j,"(\xA0"+i(e.numberValue)+"/heure\xA0)",1)):n("",!0)])])])}const O=d(M,[["render",z],["__scopeId","data-v-882d9a56"]]),G=_({name:"AppNumberValue",components:{IconPen:I},props:{numberSubsection:{type:Object,default:new R}}});const X={class:"v-app-number-value"},J={class:"v-app-number-value__icon"},K={key:0,class:"v-app-number-value__device"},Q=["min"],W={key:1,class:"v-app-number-value__end"},Y={key:2,class:"v-app-number-value__device"};function Z(e,l,v,m,b,h){const a=c("icon-pen");return s(),o("div",X,[t("div",J,[$(a)]),e.numberSubsection.unit==="CHF"?(s(),o("div",K,"CHF")):n("",!0),N(t("input",{class:"app-value-number",type:"number","onUpdate:modelValue":l[0]||(l[0]=u=>e.numberSubsection.value=u),min:e.numberSubsection.min},null,8,Q),[[V,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(s(),o("div",W,"\xA0\xA0\xA0.\u2014")):e.numberSubsection.unit?(s(),o("div",Y,"\xA0\xA0\xA0"+i(e.numberSubsection.unit),1)):n("",!0)])}const E=d(G,[["render",Z],["__scopeId","data-v-2f6ab2e6"]]),x=_({name:"SubsectionNumber",components:{IconPen:I,AppNumberValue:E},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const f=e=>(k("data-v-166402d8"),e=e(),C(),e),ee={class:"v-subsection-number app-subsection"},te={key:0,class:"app-g"},se=f(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),oe={class:"app-g__coll-4-12 app-with-gutter"},ie={key:0,class:"app-g__coll-6-12 app-with-gutter"},ne={key:1,class:"v-subsection-number__multiplier-editable"},ue={key:0},le={key:1},ae={key:2},ce={class:"app-g app-g--align-end"},pe=f(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),re={class:"app-g__coll-4-12 app-with-gutter"},_e={key:0},de={class:"app-g__coll-6-12"},ve={key:1,class:"app-g v-subsection-number__multiplier--is-info"},me=f(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),be=f(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},null,-1)),he={class:"app-g__coll-6-12 app-with-gutter"},$e={key:0},Se={key:1},ge={key:2};function fe(e,l,v,m,b,h){const a=c("icon-pen"),u=c("app-number-value");return s(),o("div",ee,[e.multiplier&&e.multiplier.status==="reg"?(s(),o("div",te,[se,t("div",oe,i(e.multiplier.text),1),e.multiplier.isEditable?(s(),o("div",ne,[t("div",null,[$(a)]),e.multiplier.unit==="CHF"?(s(),o("div",ue,"CHF")):n("",!0),N(t("input",{class:"app-g__coll-6-12 app-with-gutter app-value-number","onUpdate:modelValue":l[0]||(l[0]=p=>e.multiplier.value=p),type:"number",min:"0"},null,512),[[V,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(s(),o("div",le,"\xA0\xA0\xA0.\u2014")):e.multiplier.unit?(s(),o("div",ae,i(e.numberSubsection.unit),1)):n("",!0)])):(s(),o("div",ie,i(e.multiplier.value),1))])):n("",!0),t("div",ce,[pe,t("div",re,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(s(),o("span",_e,"\u21B3 ")):n("",!0),r(i(e.numberSubsection.text),1)]),t("div",de,[$(u,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(s(),o("div",ve,[me,be,t("div",he,[r(i(e.multiplier.text),1),e.multiplier.unit==="CHF"?(s(),o("span",$e,"CHF")):n("",!0),r(" "+i(e.multiplier.value),1),e.multiplier.unit==="CHF"?(s(),o("span",Se,".\u2013")):e.multiplier.unit?(s(),o("span",ge,"\xA0"+i(e.multiplier.unit),1)):n("",!0)])])):n("",!0)])}const H=d(x,[["render",fe],["__scopeId","data-v-166402d8"]]),ye=_({name:"AppSection",components:{SubsectionNumber:H,SubsectionOption:O},props:{section:{required:!0,type:Object}},computed:{sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const we={class:"v-app-section"},ke={class:"v-app-section__required-info"},Ce={key:0,class:"v-app-section__required-info__true"},Ae={key:1,class:"v-app-section__required-info__false"},Ie={class:"app-g app-g--align-center"},Ne={class:"app-g__coll-2-12"},Ve={class:"v-app-section__index"},Fe={class:"app-g__coll-8-12"},Oe={class:"app-g"},Ee={class:"app-g__coll-12-12"};function He(e,l,v,m,b,h){const a=c("subsection-number"),u=c("subsection-option");return s(),o("div",we,[t("div",ke,[e.classifiedSection.value.required?(s(),o("span",Ce,"*")):(s(),o("span",Ae,"Facultatif"))]),t("div",Ie,[t("div",Ne,[t("div",Ve,i(e.classifiedSection.value.index),1)]),t("div",Fe,[t("div",null,i(e.classifiedSection.value.title),1)])]),t("div",Oe,[t("div",Ee,[e.sectionIsNumber?(s(!0),o(S,{key:0},g(e.sectionIsNumber.subSections,p=>(s(),w(a,{numberSubsection:p},null,8,["numberSubsection"]))),256)):n("",!0),e.sectionIsOption?(s(!0),o(S,{key:1},g(e.sectionIsOption.subSections,p=>(s(),w(u,{optionSubsection:p},null,8,["optionSubsection"]))),256)):n("",!0)])])])}const Te=d(ye,[["render",He]]),Re=_({name:"ViewCalculator",components:{SubsectionNumber:H,SubsectionOption:O,AppNumberValue:E,AppSection:Te,AppCheckbox:F,AppNav:T},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:q(),proto:!0,checkeds:[],showFixedResult:!0}},methods:{getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{sections(){return this.globalStore.calculatorSections},total(){return this.globalStore.total}}});const y=e=>(k("data-v-86d7707a"),e=e(),C(),e),qe={class:"v-view-calculator app-view"},Me=y(()=>t("h2",null,"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),Be={class:"v-view-calculator__footer"},Pe={key:0,class:"v-view-calculator__footer__result"},Ue={class:"v-view-calculator__footer__content"},De={class:"v-view-calculator__footer__status"},Le=y(()=>t("span",{class:"v-view-calculator__footer__status__items__icon"},null,-1)),je={class:"v-view-calculator__result"},ze={class:"app-g",ref:"total"},Ge=y(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),Xe=y(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},"TOTAL",-1)),Je={class:"v-view-calculator__result__result-container app-g__coll-6-12 app-with-gutter"},Ke={key:0},Qe={class:"v-view-calculator__result__option"},We={key:1};function Ye(e,l,v,m,b,h){const a=c("app-section");return s(),o("div",qe,[Me,(s(!0),o(S,null,g(e.sections,u=>(s(),w(a,{section:u},null,8,["section"]))),256)),t("div",Be,[e.total>0&&e.showFixedResult?(s(),o("div",Pe,[t("div",Ue,[t("div",null,"r\xE9sultat: "+i(e.total)+".\u2014 CHF",1)])])):n("",!0),t("div",De,[(s(!0),o(S,null,g(e.sections,(u,p)=>(s(),o("span",{class:A(["v-view-calculator__footer__status__items",{"is-empty":u.status==="empty"}])},[Le,r("\xA0"+i(u.title),1)],2))),256))])]),t("div",je,[t("div",ze,[Ge,Xe,t("div",Je,[e.total>0?(s(),o("div",Ke,[r("r\xE9sultat: "+i(e.total)+".\u2014 CHF ",1),t("div",Qe,[r("Collectif d\u2019artiste? "),t("div",{class:A(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:l[0]||(l[0]=u=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2)])])):(s(),o("h6",We,"Compl\xE9tez l\u2019ensemble des options pour afficher le r\xE9sultat"))])],512)])])}const et=d(Re,[["render",Ye],["__scopeId","data-v-86d7707a"]]);export{et as default};
