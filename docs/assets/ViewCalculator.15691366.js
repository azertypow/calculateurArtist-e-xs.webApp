import{I as A,A as R}from"./AppNav.92781cfe.js";import{d,_ as v,o as s,c as o,e as t,n as C,f as r,t as i,F as $,g as n,a as _,w as E,T as M,p as g,b as y,r as c,h as N,v as V,i as S,j as I}from"./index.425540f9.js";import{N as B,u as P}from"./globalStore.79d074ed.js";const U=d({name:"AppCheckbox",components:{},data(){return{showInfo:!1}},props:{activated:{required:!0,type:Boolean},textValue:{required:!0,type:String},description:{required:!1,type:String},info:{required:!1,type:String}}});const j=e=>(g("data-v-1948f26f"),e=e(),y(),e),D={class:"v-app-checkbox"},L={class:"v-app-checkbox__label"},z={class:"v-app-checkbox__text"},G=j(()=>t("br",null,null,-1)),X={class:"v-app-checkbox__description"},J={key:0,class:"v-app-checkbox__info"};function K(e,a,b,m,h,f){return s(),o("div",D,[t("label",L,[t("span",{class:C(["v-app-checkbox__input",{"is-active":e.activated}])},null,2),t("span",z,[r(i(e.textValue)+" ",1),e.description?(s(),o($,{key:0},[G,t("span",X,i(e.description),1)],64)):n("",!0),_(M,{name:"v-transition-fade"},{default:E(()=>[e.info&&e.showInfo?(s(),o("span",J,i(e.info),1)):n("",!0)]),_:1}),e.info?(s(),o("span",{key:1,class:"v-app-checkbox__i",onMouseenter:a[0]||(a[0]=u=>e.showInfo=!0),onMouseleave:a[1]||(a[1]=u=>e.showInfo=!1)},"i",32)):n("",!0)])])])}const F=v(U,[["render",K],["__scopeId","data-v-1948f26f"]]),Q=d({name:"SubsectionOption",components:{AppCheckbox:F},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const W=e=>(g("data-v-882d9a56"),e=e(),y(),e),Y={class:"v-subsection-option app-subsection"},Z={class:"app-g"},x=W(()=>t("div",{class:"app-g__coll-6-12"},null,-1)),ee={class:"app-g__coll-6-12"},te={key:0,class:"v-subsection-option__info-value"};function se(e,a,b,m,h,f){const u=c("app-checkbox");return s(),o("div",Y,[t("div",Z,[x,t("div",ee,[_(u,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(s(),o("div",te,"(\xA0"+i(e.numberValue)+"/heure\xA0)",1)):n("",!0)])])])}const O=v(Q,[["render",se],["__scopeId","data-v-882d9a56"]]),oe=d({name:"AppNumberValue",components:{IconPen:A},props:{numberSubsection:{type:Object,default:new B}}});const ie={class:"v-app-number-value"},ne={class:"v-app-number-value__icon"},ae={key:0,class:"v-app-number-value__device"},ue=["min"],le={key:1,class:"v-app-number-value__end"},ce={key:2,class:"v-app-number-value__device"};function pe(e,a,b,m,h,f){const u=c("icon-pen");return s(),o("div",ie,[t("div",ne,[_(u)]),e.numberSubsection.unit==="CHF"?(s(),o("div",ae,"CHF")):n("",!0),N(t("input",{class:"app-value-number",type:"number","onUpdate:modelValue":a[0]||(a[0]=p=>e.numberSubsection.value=p),min:e.numberSubsection.min},null,8,ue),[[V,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(s(),o("div",le,".\u2014")):e.numberSubsection.unit?(s(),o("div",ce,i(e.numberSubsection.unit),1)):n("",!0)])}const T=v(oe,[["render",pe],["__scopeId","data-v-4f9a79eb"]]),re=d({name:"SubsectionNumber",components:{IconPen:A,AppNumberValue:T},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const k=e=>(g("data-v-63acfd6e"),e=e(),y(),e),_e={class:"v-subsection-number app-subsection"},de={key:0,class:"app-g"},ve=k(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),be={class:"app-g__coll-4-12 app-with-gutter"},me={key:0,class:"app-g__coll-6-12 app-with-gutter"},he={key:1,class:"v-subsection-number__multiplier-editable"},fe={key:0},$e={key:1},Se={key:2},ge={class:"app-g app-g--align-end"},ye=k(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),ke={class:"app-g__coll-4-12 app-with-gutter"},we={key:0},Ce={class:"app-g__coll-6-12"},Ie={key:1,class:"app-g v-subsection-number__multiplier--is-info"},Ae=k(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),Ne=k(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},null,-1)),Ve={class:"app-g__coll-6-12 app-with-gutter"},Fe={key:0},Oe={key:1},Te={key:2};function qe(e,a,b,m,h,f){const u=c("icon-pen"),p=c("app-number-value");return s(),o("div",_e,[e.multiplier&&e.multiplier.status==="reg"?(s(),o("div",de,[ve,t("div",be,i(e.multiplier.text),1),e.multiplier.isEditable?(s(),o("div",he,[t("div",null,[_(u)]),e.multiplier.unit==="CHF"?(s(),o("div",fe,"CHF")):n("",!0),N(t("input",{class:"app-g__coll-6-12 app-with-gutter app-value-number","onUpdate:modelValue":a[0]||(a[0]=l=>e.multiplier.value=l),type:"number",min:"0"},null,512),[[V,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(s(),o("div",$e,".\u2014")):e.multiplier.unit?(s(),o("div",Se,i(e.numberSubsection.unit),1)):n("",!0)])):(s(),o("div",me,i(e.multiplier.value),1))])):n("",!0),t("div",ge,[ye,t("div",ke,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(s(),o("span",we,"\u21B3 ")):n("",!0),r(i(e.numberSubsection.text),1)]),t("div",Ce,[_(p,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(s(),o("div",Ie,[Ae,Ne,t("div",Ve,[r(i(e.multiplier.text),1),e.multiplier.unit==="CHF"?(s(),o("span",Fe,"CHF")):n("",!0),r(" "+i(e.multiplier.value),1),e.multiplier.unit==="CHF"?(s(),o("span",Oe,".\u2013")):e.multiplier.unit?(s(),o("span",Te,"\xA0"+i(e.multiplier.unit),1)):n("",!0)])])):n("",!0)])}const q=v(re,[["render",qe],["__scopeId","data-v-63acfd6e"]]),He=d({name:"AppSection",components:{SubsectionNumber:q,SubsectionOption:O},props:{section:{required:!0,type:Object}},computed:{sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const Re={class:"v-app-section"},Ee={class:"v-app-section__required-info"},Me={key:0,class:"v-app-section__required-info__true"},Be={key:1,class:"v-app-section__required-info__false"},Pe={class:"app-g app-g--align-center"},Ue={class:"app-g__coll-2-12"},je={class:"v-app-section__index"},De={class:"app-g__coll-8-12"},Le={class:"app-g"},ze={class:"app-g__coll-12-12"};function Ge(e,a,b,m,h,f){const u=c("subsection-number"),p=c("subsection-option");return s(),o("div",Re,[t("div",Ee,[e.classifiedSection.value.required?(s(),o("span",Me,"*")):(s(),o("span",Be,"Facultatif"))]),t("div",Pe,[t("div",Ue,[t("div",je,i(e.classifiedSection.value.index),1)]),t("div",De,[t("div",null,i(e.classifiedSection.value.title),1)])]),t("div",Le,[t("div",ze,[e.sectionIsNumber?(s(!0),o($,{key:0},S(e.sectionIsNumber.subSections,l=>(s(),I(u,{numberSubsection:l},null,8,["numberSubsection"]))),256)):n("",!0),e.sectionIsOption?(s(!0),o($,{key:1},S(e.sectionIsOption.subSections,l=>(s(),I(p,{optionSubsection:l},null,8,["optionSubsection"]))),256)):n("",!0)])])])}const Xe=v(He,[["render",Ge]]),Je=d({name:"ViewCalculator",components:{SubsectionNumber:q,SubsectionOption:O,AppNumberValue:T,AppSection:Xe,AppCheckbox:F,AppNav:R},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:P(),proto:!0,checkeds:[],showFixedResult:!0}},methods:{getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{sections(){return this.globalStore.calculatorSections},total(){return this.globalStore.total}}});const w=e=>(g("data-v-d776e07c"),e=e(),y(),e),Ke={class:"v-view-calculator"},Qe=w(()=>t("h2",null,"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),We={class:"v-view-calculator__footer"},Ye={key:0,class:"v-view-calculator__footer__result"},Ze={class:"v-view-calculator__footer__content"},xe={class:"v-view-calculator__footer__status"},et={key:0,class:"v-view-calculator__footer__status__separator"},tt=w(()=>t("span",{class:"v-view-calculator__footer__status__items__icon"},null,-1)),st={class:"v-view-calculator__result"},ot={class:"app-g",ref:"total"},it=w(()=>t("div",{class:"app-g__coll-2-12 app-with-gutter"},null,-1)),nt=w(()=>t("div",{class:"app-g__coll-4-12 app-with-gutter"},"TOTAL",-1)),at={class:"v-view-calculator__result__result-container app-g__coll-6-12 app-with-gutter"},ut={key:0},lt={class:"v-view-calculator__result__option"},ct={key:1};function pt(e,a,b,m,h,f){const u=c("app-nav"),p=c("app-section");return s(),o("div",Ke,[_(u),Qe,(s(!0),o($,null,S(e.sections,l=>(s(),I(p,{section:l},null,8,["section"]))),256)),t("div",We,[e.total>0&&e.showFixedResult?(s(),o("div",Ye,[t("div",Ze,[t("div",null,"resultat: "+i(e.total)+".\u2014 CHF",1)])])):n("",!0),t("div",xe,[(s(!0),o($,null,S(e.sections,(l,H)=>(s(),o("span",{class:C(["v-view-calculator__footer__status__items",{"is-empty":l.status==="empty"}])},[H>0?(s(),o("span",et," |\xA0")):n("",!0),tt,r("\xA0"+i(l.title),1)],2))),256))])]),t("div",st,[t("div",ot,[it,nt,t("div",at,[e.total>0?(s(),o("div",ut,[r("resultat: "+i(e.total)+".\u2014 CHF ",1),t("div",lt,[r("Collectif d'artiste? "),t("div",{class:C(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:a[0]||(a[0]=l=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2)])])):(s(),o("h6",ct,"Compl\xE9tez l\u2019ensemble des options pour afficher le r\xE9sultat"))])],512)])])}const vt=v(Je,[["render",pt],["__scopeId","data-v-d776e07c"]]);export{vt as default};
