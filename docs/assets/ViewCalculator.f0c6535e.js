import{d as g,_ as S,r as a,o as t,c as o,a as s,b as h,t as n,e as i,p as k,f as w,I as T,N as R,w as H,v as F,g as c,O as q,h as L,u as r,n as I,F as _,i as y,j as C,k as O,l as B,A as P,m as j}from"./index.554a86ac.js";import{A}from"./AppCheckbox.28ea185c.js";const U=g({name:"SubsectionOption",components:{AppCheckbox:A},data(){return{numberValue:0}},props:{optionSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberValue=this.optionSubsection.resultInfo,this.optionSubsection.onResultChange=()=>{this.numberValue=this.optionSubsection.resultInfo}})},methods:{activeThisSubsection(){this.optionSubsection.parent!==void 0&&(this.optionSubsection.parent.value=this.optionSubsection)}}});const D=e=>(k("data-v-699d5bc1"),e=e(),w(),e),z={class:"v-subsection-option app-subsection"},G={class:"app-g"},X=D(()=>s("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-6-12"},null,-1)),J={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},K={key:0,class:"v-subsection-option__info-value"};function Q(e,l,m,b,p,f){const u=a("app-checkbox");return t(),o("div",z,[s("div",G,[X,s("div",J,[h(u,{onClick:e.activeThisSubsection,activated:e.optionSubsection.isActive,textValue:e.optionSubsection.titre,description:e.optionSubsection.subtitle},null,8,["onClick","activated","textValue","description"]),e.numberValue>0?(t(),o("div",K,"CHF "+n(e.numberValue)+".\u2014",1)):i("",!0)])])])}const N=S(U,[["render",Q],["__scopeId","data-v-699d5bc1"]]),W=g({name:"AppNumberValue",components:{IconPen:T},props:{numberSubsection:{type:Object,default:new R}}});const Y={class:"v-app-number-value"},Z={class:"v-app-number-value__icon"},x={key:0,class:"v-app-number-value__device"},ee=["min"],te={key:1,class:"v-app-number-value__end"},se={key:2,class:"v-app-number-value__device"};function oe(e,l,m,b,p,f){const u=a("icon-pen");return t(),o("div",Y,[s("div",Z,[h(u)]),e.numberSubsection.unit==="CHF"?(t(),o("div",x,"CHF")):i("",!0),H(s("input",{class:"app-value-number",type:"number","onUpdate:modelValue":l[0]||(l[0]=v=>e.numberSubsection.value=v),min:e.numberSubsection.min},null,8,ee),[[F,e.numberSubsection.value]]),e.numberSubsection.unit==="CHF"?(t(),o("div",te,".\u2014")):e.numberSubsection.unit?(t(),o("div",se,n(e.numberSubsection.unit),1)):i("",!0)])}const E=S(W,[["render",oe],["__scopeId","data-v-a629be42"]]),ie=g({name:"SubsectionNumber",components:{IconPen:T,AppNumberValue:E},data(){return{multiplier:void 0}},props:{numberSubsection:{required:!0,type:Object}},mounted(){this.$nextTick(()=>{this.numberSubsection.hasMultiplier&&(this.multiplier=this.numberSubsection.multiplier),this.numberSubsection.onValueMultiplierChange=()=>{console.log(this.numberSubsection.multiplier),this.multiplier=this.numberSubsection.multiplier}})}});const d=e=>(k("data-v-17e62b3a"),e=e(),w(),e),ne={class:"v-subsection-number app-subsection"},le={key:0,class:"app-g app-g--align-start"},ae=d(()=>s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),pe={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},ue={key:0,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},ce={key:0},re={key:1},_e={key:1,class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 v-subsection-number__multiplier-editable"},de={key:0},me={key:1},be={key:2},ve=d(()=>s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),he=d(()=>s("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},null,-1)),ge={style:{"padding-bottom":"2rem","line-height":"2rem","font-size":"1.4rem"},class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},Se={class:"app-g app-g--align-center"},$e=d(()=>s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),fe={class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},ye={key:0},Ce={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12"},ke={key:1,class:"app-g v-subsection-number__multiplier--is-info"},we=d(()=>s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12 app-with-gutter"},null,-1)),Ve=d(()=>s("div",{class:"app-g__coll-xs-12-12 app-g__coll-sm-4-12 app-g__coll-4-12 app-with-gutter"},null,-1)),Oe={class:"app-g__coll-xs-12-12 app-g__coll-sm-8-12 app-g__coll-6-12 app-with-gutter"},Te={key:0},He={key:1},Fe={key:2};function Ie(e,l,m,b,p,f){const u=a("icon-pen"),v=a("app-number-value");return t(),o("div",ne,[e.multiplier&&e.multiplier.status==="reg"?(t(),o("div",le,[ae,s("div",pe,n(e.multiplier.text),1),e.multiplier.isEditable?(t(),o("div",_e,[s("div",null,[h(u)]),e.multiplier.unit==="CHF"?(t(),o("div",de,"CHF")):i("",!0),H(s("input",{class:"app-value-number","onUpdate:modelValue":l[0]||(l[0]=$=>e.multiplier.value=$),type:"number",min:"0"},null,512),[[F,e.multiplier.value,void 0,{number:!0}]]),e.multiplier.unit==="CHF"?(t(),o("div",me,".\u2014")):e.multiplier.unit?(t(),o("div",be,n(e.numberSubsection.unit),1)):i("",!0)])):(t(),o("div",ue,[e.multiplier.unit==="CHF"?(t(),o("span",ce,"CHF")):i("",!0),c(" "+n(e.multiplier.value)+" ",1),e.multiplier.unit==="CHF"?(t(),o("span",re,".\u2014")):i("",!0)])),ve,he,s("div",ge,n(e.numberSubsection.conseilValue),1)])):i("",!0),s("div",Se,[$e,s("div",fe,[e.numberSubsection.hasMultiplier&&e.numberSubsection.text?(t(),o("span",ye,"\u21B3 ")):i("",!0),c(n(e.numberSubsection.text),1)]),s("div",Ce,[h(v,{numberSubsection:e.numberSubsection,"is-c-h-f-value":!1},null,8,["numberSubsection"])])]),e.multiplier&&e.multiplier.status==="info"?(t(),o("div",ke,[we,Ve,s("div",Oe,[c(n(e.multiplier.text),1),e.multiplier.unit==="CHF"?(t(),o("span",Te,"CHF")):i("",!0),c(" "+n(e.multiplier.value),1),e.multiplier.unit==="CHF"?(t(),o("span",He,".\u2013")):e.multiplier.unit?(t(),o("span",Fe,"\xA0"+n(e.multiplier.unit),1)):i("",!0)])])):i("",!0)])}const M=S(ie,[["render",Ie],["__scopeId","data-v-17e62b3a"]]),Ae=g({name:"AppSection",components:{SubsectionNumber:M,SubsectionOption:N},props:{section:{required:!0,type:Object}},computed:{OptionCalculatorSection(){return q},OptionCalculatorSubsection(){return L},showHelpers(){return r().showHelpers},sectionIsNumber(){return this.section.type!=="number"?null:this.section},sectionIsOption(){return this.section.type!=="option"?null:this.section},classifiedSection(){return this.section.type==="number"?{type:"number",value:this.section}:{type:"option",value:this.section}}}});const Ne={class:"v-app-section"},Ee={class:"v-app-section__required-info"},Me={key:0,class:"v-app-section__required-info__true"},Re={key:1,class:"v-app-section__required-info__false"},qe={class:"app-g app-g--align-center"},Le={class:"app-g__coll-sm-auto app-g__coll-2-12"},Be={class:"app-g__coll-8-12 app-with-gutter"},Pe={class:"app-g"},je={class:"app-g__coll-12-12"},Ue={class:"app-g"},De=s("div",{class:"app-g__coll-sm-0-12 app-g__coll-2-12"},null,-1),ze=["innerHTML"];function Ge(e,l){const m=a("subsection-number"),b=a("subsection-option");return t(),o("div",Ne,[s("div",Ee,[e.classifiedSection.value.required?(t(),o("span",Me,"*")):(t(),o("span",Re,"Optionnel"))]),s("div",qe,[s("div",Le,[s("div",{class:I([{"is-empty":e.classifiedSection.value.status==="empty"},"v-app-section__index"])},n(e.classifiedSection.value.index),3)]),s("div",Be,[s("div",null,n(e.classifiedSection.value.title),1)])]),s("div",Pe,[s("div",je,[e.sectionIsNumber?(t(!0),o(_,{key:0},y(e.sectionIsNumber.subSections,p=>(t(),C(m,{numberSubsection:p},null,8,["numberSubsection"]))),256)):i("",!0),e.sectionIsOption?(t(!0),o(_,{key:1},y(e.sectionIsOption.subSections,p=>(t(),C(b,{optionSubsection:p},null,8,["optionSubsection"]))),256)):i("",!0)])]),s("div",Ue,[De,e.section.help?(t(),o(_,{key:0},[e.showHelpers?(t(),o("div",{key:0,class:"app-g__coll-sm-12-12 app-g__coll-10-12 v-app-section__help",innerHTML:e.section.help},null,8,ze)):i("",!0)],64)):i("",!0)])])}const Xe=S(Ae,[["render",Ge]]),Je=g({name:"ViewCalculator",components:{AppPanel:B,SubsectionNumber:M,SubsectionOption:N,AppNumberValue:E,AppSection:Xe,AppCheckbox:A,AppNav:P},mounted(){this.$nextTick(()=>{document.querySelector("#app").addEventListener("scroll",this.getResultPosition)}),gtag("event","page_view",{page_title:"ViewCalculator",page_location:"/#/calculateur"})},beforeUnmount(){document.querySelector("#app").removeEventListener("scroll",this.getResultPosition)},data(){return{globalStore:r(),proto:!0,checkeds:[]}},methods:{formatCHF:j,useGlobalStore:r,getResultPosition(){this.$refs.total instanceof HTMLDivElement&&(this.globalStore.showFixedResult=this.$refs.total.getBoundingClientRect().top>=window.innerHeight)}},computed:{sections(){return this.globalStore.calculatorSections},globalTotal(){return this.globalStore.globalTotal},globalMessage(){return this.globalStore.globalMessageForTotalResult},conditionOnTotalValue(){return Object.values(this.globalStore.conditionOnTotalValue)[0].value}}});r().$onAction(e=>{e.name==="setConditionOnTotalValue"&&(e.args[2]===O.sal?r().calculatorSections[5].subSections[0].conseilValue="(min. l\xE9gal genevois = 24 CHF / h)":e.args[2]===O.asso?r().calculatorSections[5].subSections[0].conseilValue="(min. l\xE9gal genevois = 28.10 CHF / h, \xE9quivalent co\xFBt employeur)":r().calculatorSections[5].subSections[0].conseilValue="(minimum recommand\xE9 par Visarte = 90 CHF / horaire)")});const V=e=>(k("data-v-d185029b"),e=e(),w(),e),Ke={class:"v-view-calculator app-view"},Qe={class:"v-view-calculator__nav-box"},We=V(()=>s("h2",{class:"app-with-gutter"},"RECOMMANDATIONS DE R\xC9MUN\xC9RATION POUR UNE EXPOSITION",-1)),Ye={class:"v-view-calculator__result"},Ze={class:"app-g",ref:"total"},xe=V(()=>s("div",{class:"app-g__coll-2-12 app-g__coll-sm-0-12 app-with-gutter"},null,-1)),et=V(()=>s("div",{class:"app-g__coll-2-12 app-g__coll-sm-3-12 app-with-gutter"},"TOTAL",-1)),tt={class:"v-view-calculator__result__result-container app-g__coll-8-12 app-g__coll-sm-9-12 app-with-gutter"},st={key:0},ot={key:0},it={key:1},nt={style:{"line-height":"2rem","font-size":"1.4rem"}},lt={class:"v-view-calculator__result__option"},at={key:2,class:"v-view-calculator__result__option_info",style:{"text-align":"right","max-width":"none"}},pt={key:1,style:{margin:"0"}};function ut(e,l,m,b,p,f){const u=a("app-nav"),v=a("app-section");return t(),o("div",Ke,[s("div",Qe,[h(u)]),We,(t(!0),o(_,null,y(e.sections,$=>(t(),C(v,{section:$},null,8,["section"]))),256)),s("div",Ye,[s("div",Ze,[xe,et,s("div",tt,[typeof e.globalTotal=="number"?(t(),o("div",st,[c("CHF "+n(e.globalTotal),1),e.globalTotal%1===0?(t(),o(_,{key:0},[c(".\u2014")],64)):i("",!0),e.conditionOnTotalValue?(t(),o(_,{key:1},[e.conditionOnTotalValue==="association"?(t(),o("div",ot,"(CHF "+n(e.formatCHF(e.globalTotal/100*72.41))+" net)",1)):i("",!0),e.conditionOnTotalValue==="salariat"?(t(),o("div",it,"(CHF "+n(e.formatCHF(e.globalTotal/100*85.44))+" net)",1)):i("",!0)],64)):i("",!0),s("div",nt,n(e.globalMessage),1),s("div",lt,[s("div",{class:I(["app-button--toggle",{"is-active":e.globalStore.isACollective}]),onClick:l[0]||(l[0]=$=>e.globalStore.isACollective=!e.globalStore.isACollective)},null,2),c(" Collectif d\u2019artiste? ")]),e.globalStore.isACollective?(t(),o("div",at," Les collectifs d\u2019artistes sont r\xE9mun\xE9r\xE9s selon un coefficient de 1,5. ")):i("",!0)])):(t(),o("h6",pt,n(e.globalTotal.errorMessage),1))])],512)])])}const _t=S(Je,[["render",ut],["__scopeId","data-v-d185029b"]]);export{_t as default};
